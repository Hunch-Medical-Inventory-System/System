{"version":3,"file":"list.js","names":["computed","inject","provide","shallowRef","useId","DepthKey","Symbol","for","useDepth","hasPrepend","parent","depth","value","ListKey","createList","options","filterable","updateHasPrepend","trackingIndex","navigationStrategy","uid","data","useList"],"sources":["../../../src/components/VList/list.ts"],"sourcesContent":["// Utilities\nimport { computed, inject, provide, shallowRef, useId } from 'vue'\n\n// Types\nimport type { InjectionKey, MaybeRefOrGetter, Ref } from 'vue'\n\n// Depth\nexport const DepthKey: InjectionKey<Ref<number>> = Symbol.for('vuetify:depth')\n\nexport function useDepth (hasPrepend?: Ref<boolean>) {\n  const parent = inject(DepthKey, shallowRef(-1))\n\n  const depth = computed(() => parent.value + 1 + (hasPrepend?.value ? 1 : 0))\n\n  provide(DepthKey, depth)\n\n  return depth\n}\n\n// List\nexport const ListKey: InjectionKey<{\n  filterable: MaybeRefOrGetter<boolean>\n  hasPrepend: Ref<boolean>\n  updateHasPrepend: (value: boolean) => void\n  trackingIndex: Ref<number>\n  navigationStrategy: Ref<'focus' | 'track'>\n  uid: string\n}> = Symbol.for('vuetify:list')\n\ntype InjectedListOptions = {\n  filterable: MaybeRefOrGetter<boolean>\n  trackingIndex?: Ref<number>\n  navigationStrategy?: Ref<'focus' | 'track'>\n  uid?: string\n}\n\nexport function createList (options: InjectedListOptions = { filterable: false }) {\n  const parent = inject(ListKey, {\n    filterable: false,\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: () => null,\n    trackingIndex: shallowRef(-1),\n    navigationStrategy: shallowRef('focus' as 'focus' | 'track'),\n    uid: '',\n  })\n\n  const {\n    filterable,\n    trackingIndex = parent.trackingIndex,\n    navigationStrategy = parent.navigationStrategy,\n    uid = parent.uid || useId(),\n  } = options\n\n  const data = {\n    filterable: parent.filterable || filterable,\n    hasPrepend: shallowRef(false),\n    updateHasPrepend: (value: boolean) => {\n      if (value) data.hasPrepend.value = value\n    },\n    trackingIndex,\n    navigationStrategy,\n    uid,\n  }\n\n  provide(ListKey, data)\n\n  return parent\n}\n\nexport function useList () {\n  return inject(ListKey, null)\n}\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,OAAO,EAAEC,UAAU,EAAEC,KAAK,QAAQ,KAAK;;AAElE;;AAGA;AACA,OAAO,MAAMC,QAAmC,GAAGC,MAAM,CAACC,GAAG,CAAC,eAAe,CAAC;AAE9E,OAAO,SAASC,QAAQA,CAAEC,UAAyB,EAAE;EACnD,MAAMC,MAAM,GAAGT,MAAM,CAACI,QAAQ,EAAEF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAE/C,MAAMQ,KAAK,GAAGX,QAAQ,CAAC,MAAMU,MAAM,CAACE,KAAK,GAAG,CAAC,IAAIH,UAAU,EAAEG,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAE5EV,OAAO,CAACG,QAAQ,EAAEM,KAAK,CAAC;EAExB,OAAOA,KAAK;AACd;;AAEA;AACA,OAAO,MAAME,OAOX,GAAGP,MAAM,CAACC,GAAG,CAAC,cAAc,CAAC;AAS/B,OAAO,SAASO,UAAUA,CAAEC,OAA4B,GAAG;EAAEC,UAAU,EAAE;AAAM,CAAC,EAAE;EAChF,MAAMN,MAAM,GAAGT,MAAM,CAACY,OAAO,EAAE;IAC7BG,UAAU,EAAE,KAAK;IACjBP,UAAU,EAAEN,UAAU,CAAC,KAAK,CAAC;IAC7Bc,gBAAgB,EAAEA,CAAA,KAAM,IAAI;IAC5BC,aAAa,EAAEf,UAAU,CAAC,CAAC,CAAC,CAAC;IAC7BgB,kBAAkB,EAAEhB,UAAU,CAAC,OAA4B,CAAC;IAC5DiB,GAAG,EAAE;EACP,CAAC,CAAC;EAEF,MAAM;IACJJ,UAAU;IACVE,aAAa,GAAGR,MAAM,CAACQ,aAAa;IACpCC,kBAAkB,GAAGT,MAAM,CAACS,kBAAkB;IAC9CC,GAAG,GAAGV,MAAM,CAACU,GAAG,IAAIhB,KAAK,CAAC;EAC5B,CAAC,GAAGW,OAAO;EAEX,MAAMM,IAAI,GAAG;IACXL,UAAU,EAAEN,MAAM,CAACM,UAAU,IAAIA,UAAU;IAC3CP,UAAU,EAAEN,UAAU,CAAC,KAAK,CAAC;IAC7Bc,gBAAgB,EAAGL,KAAc,IAAK;MACpC,IAAIA,KAAK,EAAES,IAAI,CAACZ,UAAU,CAACG,KAAK,GAAGA,KAAK;IAC1C,CAAC;IACDM,aAAa;IACbC,kBAAkB;IAClBC;EACF,CAAC;EAEDlB,OAAO,CAACW,OAAO,EAAEQ,IAAI,CAAC;EAEtB,OAAOX,MAAM;AACf;AAEA,OAAO,SAASY,OAAOA,CAAA,EAAI;EACzB,OAAOrB,MAAM,CAACY,OAAO,EAAE,IAAI,CAAC;AAC9B","ignoreList":[]}