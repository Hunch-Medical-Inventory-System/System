{"version":3,"file":"VTimePickerField.js","names":["VTextField","useTextColor","forwardRefs","ref","shallowRef","genericComponent","propsFactory","useRender","makeVTimePickerFieldProps","active","Boolean","color","String","disabled","label","modelValue","readonly","VTimePickerField","name","inheritAttrs","props","emits","v","setup","emit","attrs","textColorClasses","textColorStyles","vTextInputRef","isFocused","onKeydown","e","includes","key","preventDefault","target","value","_createElementVNode","_createVNode","_mergeProps","onFocus","onBlur"],"sources":["../../../src/components/VTimePicker/VTimePickerField.tsx"],"sourcesContent":["// Components\nimport { VTextField } from '@/components/VTextField'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { ref, shallowRef } from 'vue'\nimport { genericComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const makeVTimePickerFieldProps = propsFactory({\n  active: Boolean,\n  color: String,\n  disabled: Boolean,\n  label: String,\n  modelValue: String as PropType<string | number | null>,\n  readonly: Boolean,\n}, 'VTimePickerField')\n\nexport const VTimePickerField = genericComponent()({\n  name: 'VTimePickerField',\n\n  inheritAttrs: false,\n\n  props: makeVTimePickerFieldProps(),\n\n  emits: {\n    'update:modelValue': (v: string | null) => true,\n  },\n\n  setup (props, { emit, attrs }) {\n    const { textColorClasses, textColorStyles } = useTextColor(() => props.color)\n\n    const vTextInputRef = ref<VTextField>()\n    const isFocused = shallowRef(false)\n\n    function onKeydown (e: KeyboardEvent) {\n      if (['Backspace', 'Delete'].includes(e.key)) {\n        e.preventDefault()\n\n        const target = e.target as HTMLInputElement\n        target.value = ''\n        emit('update:modelValue', null)\n      }\n    }\n\n    useRender(() => {\n      return (\n        <div>\n          <VTextField\n            ref={ vTextInputRef }\n            _as=\"VTimePickerField\"\n            autocomplete=\"off\"\n            class={[\n              'v-time-picker-controls__time__field',\n              { 'v-time-picker-controls__time__field--active': props.active },\n              props.active ? textColorClasses.value : [],\n            ]}\n            style={ props.active ? textColorStyles.value : [] }\n            disabled={ props.disabled }\n            variant=\"solo-filled\"\n            inputmode=\"numeric\"\n            hideDetails\n            flat\n            modelValue={ props.modelValue ?? (isFocused.value ? '' : '--') }\n            onUpdate:modelValue={ v => emit('update:modelValue', v) }\n            onKeydown={ onKeydown }\n            onFocus={ () => isFocused.value = true }\n            onBlur={ () => isFocused.value = false }\n            { ...attrs }\n          />\n          <div class=\"v-time-picker-controls__field-label\">{ props.label }</div>\n        </div>\n      )\n    })\n\n    return forwardRefs({}, vTextInputRef)\n  },\n})\n\nexport type VTimePickerField = InstanceType<typeof VTimePickerField>\n"],"mappings":";AAAA;AAAA,SACSA,UAAU,kCAEnB;AAAA,SACSC,YAAY;AAAA,SACZC,WAAW,4CAEpB;AACA,SAASC,GAAG,EAAEC,UAAU,QAAQ,KAAK;AAAA,SAC5BC,gBAAgB,EAAEC,YAAY,EAAEC,SAAS,+BAElD;AAGA,OAAO,MAAMC,yBAAyB,GAAGF,YAAY,CAAC;EACpDG,MAAM,EAAEC,OAAO;EACfC,KAAK,EAAEC,MAAM;EACbC,QAAQ,EAAEH,OAAO;EACjBI,KAAK,EAAEF,MAAM;EACbG,UAAU,EAAEH,MAA0C;EACtDI,QAAQ,EAAEN;AACZ,CAAC,EAAE,kBAAkB,CAAC;AAEtB,OAAO,MAAMO,gBAAgB,GAAGZ,gBAAgB,CAAC,CAAC,CAAC;EACjDa,IAAI,EAAE,kBAAkB;EAExBC,YAAY,EAAE,KAAK;EAEnBC,KAAK,EAAEZ,yBAAyB,CAAC,CAAC;EAElCa,KAAK,EAAE;IACL,mBAAmB,EAAGC,CAAgB,IAAK;EAC7C,CAAC;EAEDC,KAAKA,CAAEH,KAAK,EAAE;IAAEI,IAAI;IAAEC;EAAM,CAAC,EAAE;IAC7B,MAAM;MAAEC,gBAAgB;MAAEC;IAAgB,CAAC,GAAG1B,YAAY,CAAC,MAAMmB,KAAK,CAACT,KAAK,CAAC;IAE7E,MAAMiB,aAAa,GAAGzB,GAAG,CAAa,CAAC;IACvC,MAAM0B,SAAS,GAAGzB,UAAU,CAAC,KAAK,CAAC;IAEnC,SAAS0B,SAASA,CAAEC,CAAgB,EAAE;MACpC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAACC,QAAQ,CAACD,CAAC,CAACE,GAAG,CAAC,EAAE;QAC3CF,CAAC,CAACG,cAAc,CAAC,CAAC;QAElB,MAAMC,MAAM,GAAGJ,CAAC,CAACI,MAA0B;QAC3CA,MAAM,CAACC,KAAK,GAAG,EAAE;QACjBZ,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC;MACjC;IACF;IAEAjB,SAAS,CAAC,MAAM;MACd,OAAA8B,mBAAA,eAAAC,YAAA,CAAAtC,UAAA,EAAAuC,WAAA;QAAA,OAGYX,aAAa;QAAA;QAAA;QAAA,SAGZ,CACL,qCAAqC,EACrC;UAAE,6CAA6C,EAAER,KAAK,CAACX;QAAO,CAAC,EAC/DW,KAAK,CAACX,MAAM,GAAGiB,gBAAgB,CAACU,KAAK,GAAG,EAAE,CAC3C;QAAA,SACOhB,KAAK,CAACX,MAAM,GAAGkB,eAAe,CAACS,KAAK,GAAG,EAAE;QAAA,YACtChB,KAAK,CAACP,QAAQ;QAAA;QAAA;QAAA;QAAA;QAAA,cAKZO,KAAK,CAACL,UAAU,KAAKc,SAAS,CAACO,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC;QAAA,uBACxCd,CAAC,IAAIE,IAAI,CAAC,mBAAmB,EAAEF,CAAC,CAAC;QAAA,aAC3CQ,SAAS;QAAA,WACXU,CAAA,KAAMX,SAAS,CAACO,KAAK,GAAG,IAAI;QAAA,UAC7BK,CAAA,KAAMZ,SAAS,CAACO,KAAK,GAAG;MAAK,GACjCX,KAAK,UAAAY,mBAAA;QAAA;MAAA,IAEuCjB,KAAK,CAACN,KAAK;IAGpE,CAAC,CAAC;IAEF,OAAOZ,WAAW,CAAC,CAAC,CAAC,EAAE0B,aAAa,CAAC;EACvC;AACF,CAAC,CAAC","ignoreList":[]}