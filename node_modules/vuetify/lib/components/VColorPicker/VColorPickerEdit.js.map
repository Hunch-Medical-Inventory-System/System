{"version":3,"file":"VColorPickerEdit.js","names":["VBtn","makeComponentProps","useLocale","computed","modes","nullColor","defineComponent","propsFactory","useRender","VColorPickerInput","label","rest","_createElementVNode","_normalizeProps","_guardReactiveProps","makeVColorPickerEditProps","color","Object","disabled","Boolean","readonly","mode","type","String","default","validator","v","keys","includes","Array","isArray","every","m","VColorPickerEdit","name","props","emits","setup","emit","t","enabledModes","map","key","inputs","value","find","to","getValue","getColor","localeKey","inputProps","ariaLabel","onChange","e","target","from","_normalizeClass","class","_normalizeStyle","style","_createVNode","length","onClick","mi","findIndex"],"sources":["../../../src/components/VColorPicker/VColorPickerEdit.tsx"],"sourcesContent":["// Styles\nimport './VColorPickerEdit.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { useLocale } from '@/composables/locale'\n\n// Utilities\nimport { computed } from 'vue'\nimport { modes, nullColor } from './util'\nimport { defineComponent, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { HSV } from '@/util/colorUtils'\n\nconst VColorPickerInput = ({ label, ...rest }: any) => {\n  return (\n    <div\n      class=\"v-color-picker-edit__input\"\n    >\n      <input { ...rest } />\n      <span>{ label }</span>\n    </div>\n  )\n}\n\nexport const makeVColorPickerEditProps = propsFactory({\n  color: Object as PropType<HSV | null>,\n  disabled: Boolean,\n  readonly: Boolean,\n  mode: {\n    type: String as PropType<keyof typeof modes>,\n    default: 'rgba',\n    validator: (v: string) => Object.keys(modes).includes(v),\n  },\n  modes: {\n    type: Array as PropType<readonly (keyof typeof modes)[]>,\n    default: () => Object.keys(modes),\n    validator: (v: any) => Array.isArray(v) && v.every(m => Object.keys(modes).includes(m)),\n  },\n\n  ...makeComponentProps(),\n}, 'VColorPickerEdit')\n\nexport const VColorPickerEdit = defineComponent({\n  name: 'VColorPickerEdit',\n\n  props: makeVColorPickerEditProps(),\n\n  emits: {\n    'update:color': (color: HSV) => true,\n    'update:mode': (mode: keyof typeof modes) => true,\n  },\n\n  setup (props, { emit }) {\n    const { t } = useLocale()\n    const enabledModes = computed(() => {\n      return props.modes.map(key => ({ ...modes[key], name: key }))\n    })\n\n    const inputs = computed(() => {\n      const mode = enabledModes.value.find(m => m.name === props.mode)\n\n      if (!mode) return []\n\n      const color = props.color ? mode.to(props.color) : null\n\n      return mode.inputs?.map(({ getValue, getColor, localeKey, ...inputProps }) => {\n        return {\n          ...mode.inputProps,\n          ...inputProps,\n          ariaLabel: t(`$vuetify.colorPicker.ariaLabel.${localeKey}`),\n          disabled: props.disabled,\n          readonly: props.readonly,\n          value: color && getValue(color),\n          onChange: (e: InputEvent) => {\n            const target = e.target as HTMLInputElement | null\n\n            if (!target) return\n\n            emit('update:color', mode.from(getColor(color ?? mode.to(nullColor), target.value)))\n          },\n        }\n      })\n    })\n\n    useRender(() => (\n      <div\n        class={[\n          'v-color-picker-edit',\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { inputs.value?.map(props => (\n          <VColorPickerInput { ...props } />\n        ))}\n        { enabledModes.value.length > 1 && (\n          <VBtn\n            icon=\"$unfold\"\n            size=\"x-small\"\n            variant=\"plain\"\n            aria-label={ t('$vuetify.colorPicker.ariaLabel.changeFormat') }\n            onClick={ () => {\n              const mi = enabledModes.value.findIndex(m => m.name === props.mode)\n\n              emit('update:mode', enabledModes.value[(mi + 1) % enabledModes.value.length].name)\n            }}\n          />\n        )}\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VColorPickerEdit = InstanceType<typeof VColorPickerEdit>\n"],"mappings":";AAAA;AACA;;AAEA;AAAA,SACSA,IAAI,4BAEb;AAAA,SACSC,kBAAkB;AAAA,SAClBC,SAAS,uCAElB;AACA,SAASC,QAAQ,QAAQ,KAAK;AAAA,SACrBC,KAAK,EAAEC,SAAS;AAAA,SAChBC,eAAe,EAAEC,YAAY,EAAEC,SAAS,+BAEjD;AAIA,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,KAAK;EAAE,GAAGC;AAAU,CAAC,KAAK;EACrD,OAAAC,mBAAA;IAAA;EAAA,IAAAA,mBAAA,UAAAC,eAAA,CAAAC,mBAAA,CAIgBH,IAAI,WAAAC,mBAAA,gBACRF,KAAK;AAGnB,CAAC;AAED,OAAO,MAAMK,yBAAyB,GAAGR,YAAY,CAAC;EACpDS,KAAK,EAAEC,MAA8B;EACrCC,QAAQ,EAAEC,OAAO;EACjBC,QAAQ,EAAED,OAAO;EACjBE,IAAI,EAAE;IACJC,IAAI,EAAEC,MAAsC;IAC5CC,OAAO,EAAE,MAAM;IACfC,SAAS,EAAGC,CAAS,IAAKT,MAAM,CAACU,IAAI,CAACvB,KAAK,CAAC,CAACwB,QAAQ,CAACF,CAAC;EACzD,CAAC;EACDtB,KAAK,EAAE;IACLkB,IAAI,EAAEO,KAAkD;IACxDL,OAAO,EAAEA,CAAA,KAAMP,MAAM,CAACU,IAAI,CAACvB,KAAK,CAAC;IACjCqB,SAAS,EAAGC,CAAM,IAAKG,KAAK,CAACC,OAAO,CAACJ,CAAC,CAAC,IAAIA,CAAC,CAACK,KAAK,CAACC,CAAC,IAAIf,MAAM,CAACU,IAAI,CAACvB,KAAK,CAAC,CAACwB,QAAQ,CAACI,CAAC,CAAC;EACxF,CAAC;EAED,GAAG/B,kBAAkB,CAAC;AACxB,CAAC,EAAE,kBAAkB,CAAC;AAEtB,OAAO,MAAMgC,gBAAgB,GAAG3B,eAAe,CAAC;EAC9C4B,IAAI,EAAE,kBAAkB;EAExBC,KAAK,EAAEpB,yBAAyB,CAAC,CAAC;EAElCqB,KAAK,EAAE;IACL,cAAc,EAAGpB,KAAU,IAAK,IAAI;IACpC,aAAa,EAAGK,IAAwB,IAAK;EAC/C,CAAC;EAEDgB,KAAKA,CAAEF,KAAK,EAAE;IAAEG;EAAK,CAAC,EAAE;IACtB,MAAM;MAAEC;IAAE,CAAC,GAAGrC,SAAS,CAAC,CAAC;IACzB,MAAMsC,YAAY,GAAGrC,QAAQ,CAAC,MAAM;MAClC,OAAOgC,KAAK,CAAC/B,KAAK,CAACqC,GAAG,CAACC,GAAG,KAAK;QAAE,GAAGtC,KAAK,CAACsC,GAAG,CAAC;QAAER,IAAI,EAAEQ;MAAI,CAAC,CAAC,CAAC;IAC/D,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAGxC,QAAQ,CAAC,MAAM;MAC5B,MAAMkB,IAAI,GAAGmB,YAAY,CAACI,KAAK,CAACC,IAAI,CAACb,CAAC,IAAIA,CAAC,CAACE,IAAI,KAAKC,KAAK,CAACd,IAAI,CAAC;MAEhE,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;MAEpB,MAAML,KAAK,GAAGmB,KAAK,CAACnB,KAAK,GAAGK,IAAI,CAACyB,EAAE,CAACX,KAAK,CAACnB,KAAK,CAAC,GAAG,IAAI;MAEvD,OAAOK,IAAI,CAACsB,MAAM,EAAEF,GAAG,CAAC,CAAC;QAAEM,QAAQ;QAAEC,QAAQ;QAAEC,SAAS;QAAE,GAAGC;MAAW,CAAC,KAAK;QAC5E,OAAO;UACL,GAAG7B,IAAI,CAAC6B,UAAU;UAClB,GAAGA,UAAU;UACbC,SAAS,EAAEZ,CAAC,CAAC,kCAAkCU,SAAS,EAAE,CAAC;UAC3D/B,QAAQ,EAAEiB,KAAK,CAACjB,QAAQ;UACxBE,QAAQ,EAAEe,KAAK,CAACf,QAAQ;UACxBwB,KAAK,EAAE5B,KAAK,IAAI+B,QAAQ,CAAC/B,KAAK,CAAC;UAC/BoC,QAAQ,EAAGC,CAAa,IAAK;YAC3B,MAAMC,MAAM,GAAGD,CAAC,CAACC,MAAiC;YAElD,IAAI,CAACA,MAAM,EAAE;YAEbhB,IAAI,CAAC,cAAc,EAAEjB,IAAI,CAACkC,IAAI,CAACP,QAAQ,CAAChC,KAAK,IAAIK,IAAI,CAACyB,EAAE,CAACzC,SAAS,CAAC,EAAEiD,MAAM,CAACV,KAAK,CAAC,CAAC,CAAC;UACtF;QACF,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFpC,SAAS,CAAC,MAAAI,mBAAA;MAAA,SAAA4C,eAAA,CAEC,CACL,qBAAqB,EACrBrB,KAAK,CAACsB,KAAK,CACZ;MAAA,SAAAC,eAAA,CACOvB,KAAK,CAACwB,KAAK;IAAA,IAEjBhB,MAAM,CAACC,KAAK,EAAEH,GAAG,CAACN,KAAK,IAAAyB,YAAA,CAAAnD,iBAAA,EACC0B,KAAK,OAC9B,CAAC,EACAK,YAAY,CAACI,KAAK,CAACiB,MAAM,GAAG,CAAC,IAAAD,YAAA,CAAA5D,IAAA;MAAA;MAAA;MAAA;MAAA,cAKduC,CAAC,CAAC,6CAA6C,CAAC;MAAA,WACnDuB,CAAA,KAAM;QACd,MAAMC,EAAE,GAAGvB,YAAY,CAACI,KAAK,CAACoB,SAAS,CAAChC,CAAC,IAAIA,CAAC,CAACE,IAAI,KAAKC,KAAK,CAACd,IAAI,CAAC;QAEnEiB,IAAI,CAAC,aAAa,EAAEE,YAAY,CAACI,KAAK,CAAC,CAACmB,EAAE,GAAG,CAAC,IAAIvB,YAAY,CAACI,KAAK,CAACiB,MAAM,CAAC,CAAC3B,IAAI,CAAC;MACpF;IAAC,QAEJ,EAEJ,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF,CAAC,CAAC","ignoreList":[]}