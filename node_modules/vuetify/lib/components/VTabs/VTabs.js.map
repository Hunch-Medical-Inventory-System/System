{"version":3,"file":"VTabs.js","names":["makeVTabProps","VTab","VTabsWindow","VTabsWindowItem","makeVSlideGroupProps","VSlideGroup","useBackgroundColor","provideDefaults","makeDensityProps","useDensity","useProxiedModel","useScopeId","makeTagProps","computed","toRef","VTabsSymbol","convertToUnit","genericComponent","isObject","pick","propsFactory","useRender","parseItems","items","map","item","text","value","makeVTabsProps","alignTabs","type","String","default","color","fixedTabs","Boolean","Array","stacked","bgColor","grow","height","Number","undefined","hideSlider","inset","insetPadding","insetRadius","sliderColor","mandatory","selectedClass","VTabs","name","props","emits","v","setup","attrs","slots","model","densityClasses","backgroundColorClasses","backgroundColorStyles","scopeId","direction","fixed","sliderTransition","sliderTransitionDuration","slideGroupProps","filterProps","hasWindow","window","length","_createElementVNode","_Fragment","_createVNode","_mergeProps","$event","class","style","tab","spaced","prev","next"],"sources":["../../../src/components/VTabs/VTabs.tsx"],"sourcesContent":["// Styles\nimport './VTabs.sass'\n\n// Components\nimport { makeVTabProps, VTab } from './VTab'\nimport { VTabsWindow } from './VTabsWindow'\nimport { VTabsWindowItem } from './VTabsWindowItem'\nimport { makeVSlideGroupProps, VSlideGroup } from '@/components/VSlideGroup/VSlideGroup'\n\n// Composables\nimport { useBackgroundColor } from '@/composables/color'\nimport { provideDefaults } from '@/composables/defaults'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { VTabsSymbol } from './shared'\nimport { convertToUnit, genericComponent, isObject, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { GenericProps } from '@/util'\n\nexport type TabItem = string | number | Record<string, any>\n\nexport type VTabsSlot<T> = {\n  item: T\n}\n\nexport type VTabsSlots<T> = {\n  default: never\n  tab: VTabsSlot<T>\n  item: VTabsSlot<T>\n  window: never\n  prev: never\n  next: never\n} & {\n  [key: `tab.${string}`]: VTabsSlot<T>\n  [key: `item.${string}`]: VTabsSlot<T>\n}\n\nfunction parseItems (items: readonly TabItem[] | undefined) {\n  if (!items) return []\n\n  return items.map(item => {\n    if (!isObject(item)) return { text: item, value: item }\n\n    return item\n  })\n}\n\nexport const makeVTabsProps = propsFactory({\n  alignTabs: {\n    type: String as PropType<'start' | 'title' | 'center' | 'end'>,\n    default: 'start',\n  },\n  color: String,\n  fixedTabs: Boolean,\n  items: {\n    type: Array as PropType<readonly TabItem[]>,\n    default: () => ([]),\n  },\n  stacked: Boolean,\n  bgColor: String,\n  grow: Boolean,\n  height: {\n    type: [Number, String],\n    default: undefined,\n  },\n  hideSlider: Boolean,\n  inset: Boolean,\n  insetPadding: [String, Number],\n  insetRadius: [String, Number],\n  sliderColor: String,\n\n  ...pick(makeVTabProps(), ['spaced', 'sliderTransition', 'sliderTransitionDuration']),\n  ...makeVSlideGroupProps({\n    mandatory: 'force' as const,\n    selectedClass: 'v-tab-item--selected',\n  }),\n  ...makeDensityProps(),\n  ...makeTagProps(),\n}, 'VTabs')\n\nexport const VTabs = genericComponent<new <TModel, T = TabItem>(\n  props: {\n    items?: T[]\n    modelValue?: TModel\n    'onUpdate:modelValue'?: (value: TModel) => void\n  },\n  slots: VTabsSlots<T>\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VTabs',\n\n  props: makeVTabsProps(),\n\n  emits: {\n    'update:modelValue': (v: unknown) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const items = computed(() => parseItems(props.items))\n    const { densityClasses } = useDensity(props)\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(() => props.bgColor)\n    const { scopeId } = useScopeId()\n\n    provideDefaults({\n      VTab: {\n        color: toRef(props, 'color'),\n        direction: toRef(props, 'direction'),\n        stacked: toRef(props, 'stacked'),\n        fixed: toRef(props, 'fixedTabs'),\n        inset: toRef(props, 'inset'),\n        sliderColor: toRef(props, 'sliderColor'),\n        sliderTransition: toRef(props, 'sliderTransition'),\n        sliderTransitionDuration: toRef(props, 'sliderTransitionDuration'),\n        hideSlider: toRef(props, 'hideSlider'),\n      },\n    })\n\n    useRender(() => {\n      const slideGroupProps = VSlideGroup.filterProps(props)\n      const hasWindow = !!(slots.window || props.items.length > 0)\n\n      return (\n        <>\n          <VSlideGroup\n            { ...slideGroupProps }\n            v-model={ model.value }\n            class={[\n              'v-tabs',\n              `v-tabs--${props.direction}`,\n              `v-tabs--align-tabs-${props.alignTabs}`,\n              {\n                'v-tabs--fixed-tabs': props.fixedTabs,\n                'v-tabs--grow': props.grow,\n                'v-tabs--inset': props.inset,\n                'v-tabs--stacked': props.stacked,\n              },\n              densityClasses.value,\n              backgroundColorClasses.value,\n              props.class,\n            ]}\n            style={[\n              {\n                '--v-tabs-height': convertToUnit(props.height),\n                '--v-tabs-inset-padding': props.inset ? convertToUnit(props.insetPadding) : undefined,\n                '--v-tabs-inset-radius': props.inset ? convertToUnit(props.insetRadius) : undefined,\n              },\n              backgroundColorStyles.value,\n              props.style,\n            ]}\n            role=\"tablist\"\n            symbol={ VTabsSymbol }\n            { ...scopeId }\n            { ...attrs }\n          >\n            {{\n              default: slots.default ?? (() => items.value.map(item => (\n                slots.tab?.({ item }) ?? (\n                  <VTab\n                    { ...item }\n                    key={ item.text }\n                    value={ item.value }\n                    spaced={ props.spaced }\n                    v-slots={{\n                      default: slots[`tab.${item.value}`] ? () => slots[`tab.${item.value}`]?.({ item }) : undefined,\n                    }}\n                  />\n                )\n              ))),\n              prev: slots.prev,\n              next: slots.next,\n            }}\n          </VSlideGroup>\n\n          { hasWindow && (\n            <VTabsWindow\n              v-model={ model.value }\n              key=\"tabs-window\"\n              { ...scopeId }\n            >\n              { items.value.map(item => slots.item?.({ item }) ?? (\n                <VTabsWindowItem\n                  value={ item.value }\n                  v-slots={{\n                    default: () => slots[`item.${item.value}`]?.({ item }),\n                  }}\n                />\n              ))}\n\n              { slots.window?.() }\n            </VTabsWindow>\n          )}\n        </>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VTabs = InstanceType<typeof VTabs>\n"],"mappings":"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","ignoreList":[]}