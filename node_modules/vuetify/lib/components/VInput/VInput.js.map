{"version":3,"file":"VInput.js","names":["useInputIcon","VMessages","makeComponentProps","makeDensityProps","useDensity","makeDimensionProps","useDimension","IconValue","useRtl","makeThemeProps","provideTheme","makeValidationProps","useValidation","computed","toRef","useId","EventProp","genericComponent","pick","propsFactory","useRender","makeVInputProps","id","String","appendIcon","baseColor","centerAffix","type","Boolean","default","color","glow","iconColor","prependIcon","hideDetails","hideSpinButtons","hint","indentDetails","persistentHint","messages","Array","direction","validator","v","includes","VInput","name","props","emits","value","setup","attrs","slots","emit","densityClasses","dimensionStyles","themeClasses","rtlClasses","InputIcon","uid","errorMessages","isDirty","isDisabled","isReadonly","isPristine","isValid","isValidating","reset","resetValidation","validate","validationClasses","length","focused","hasMessages","hasDetails","details","messagesId","undefined","slotProps","error","disabled","hasPrepend","prepend","hasAppend","append","_createElementVNode","_normalizeClass","class","_normalizeStyle","style","_createVNode","message"],"sources":["../../../src/components/VInput/VInput.tsx"],"sourcesContent":["// Styles\nimport './VInput.sass'\n\n// Components\nimport { useInputIcon } from '@/components/VInput/InputIcon'\nimport { VMessages } from '@/components/VMessages/VMessages'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { IconValue } from '@/composables/icons'\nimport { useRtl } from '@/composables/locale'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { makeValidationProps, useValidation } from '@/composables/validation'\n\n// Utilities\nimport { computed, toRef, useId } from 'vue'\nimport { EventProp, genericComponent, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { ComputedRef, PropType, Ref } from 'vue'\nimport type { VMessageSlot } from '@/components/VMessages/VMessages'\nimport type { GenericProps } from '@/util'\n\nexport interface VInputSlot {\n  id: ComputedRef<string>\n  messagesId: ComputedRef<string | undefined>\n  isDirty: ComputedRef<boolean>\n  isDisabled: ComputedRef<boolean>\n  isReadonly: ComputedRef<boolean>\n  isPristine: Ref<boolean>\n  isValid: ComputedRef<boolean | null>\n  isValidating: Ref<boolean>\n  hasDetails: Ref<boolean>\n  reset: () => void\n  resetValidation: () => void\n  validate: () => void\n}\n\nexport const makeVInputProps = propsFactory({\n  id: String,\n  appendIcon: IconValue,\n  baseColor: String,\n  centerAffix: {\n    type: Boolean,\n    default: true,\n  },\n  color: String,\n  glow: Boolean,\n  iconColor: [Boolean, String],\n  prependIcon: IconValue,\n  hideDetails: [Boolean, String] as PropType<boolean | 'auto'>,\n  hideSpinButtons: Boolean,\n  hint: String,\n  indentDetails: {\n    type: Boolean,\n    default: null,\n  },\n  persistentHint: Boolean,\n  messages: {\n    type: [Array, String] as PropType<string | readonly string[]>,\n    default: () => ([]),\n  },\n  direction: {\n    type: String as PropType<'horizontal' | 'vertical'>,\n    default: 'horizontal',\n    validator: (v: any) => ['horizontal', 'vertical'].includes(v),\n  },\n\n  'onClick:prepend': EventProp<[MouseEvent]>(),\n  'onClick:append': EventProp<[MouseEvent]>(),\n\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...pick(makeDimensionProps(), [\n    'maxWidth',\n    'minWidth',\n    'width',\n  ]),\n  ...makeThemeProps(),\n  ...makeValidationProps(),\n}, 'VInput')\n\nexport type VInputSlots = {\n  default: VInputSlot\n  prepend: VInputSlot\n  append: VInputSlot\n  details: VInputSlot\n  message: VMessageSlot\n}\n\nexport const VInput = genericComponent<new <T>(\n  props: {\n    modelValue?: T | null\n    'onUpdate:modelValue'?: (value: T | null) => void\n  },\n  slots: VInputSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VInput',\n\n  props: {\n    ...makeVInputProps(),\n  },\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n  },\n\n  setup (props, { attrs, slots, emit }) {\n    const { densityClasses } = useDensity(props)\n    const { dimensionStyles } = useDimension(props)\n    const { themeClasses } = provideTheme(props)\n    const { rtlClasses } = useRtl()\n    const { InputIcon } = useInputIcon(props)\n\n    const uid = useId()\n    const id = computed(() => props.id || `input-${uid}`)\n\n    const {\n      errorMessages,\n      isDirty,\n      isDisabled,\n      isReadonly,\n      isPristine,\n      isValid,\n      isValidating,\n      reset,\n      resetValidation,\n      validate,\n      validationClasses,\n    } = useValidation(props, 'v-input', id)\n\n    const messages = computed(() => {\n      if (props.errorMessages?.length || (!isPristine.value && errorMessages.value.length)) {\n        return errorMessages.value\n      } else if (props.hint && (props.persistentHint || props.focused)) {\n        return props.hint\n      } else {\n        return props.messages\n      }\n    })\n\n    const hasMessages = toRef(() => messages.value.length > 0)\n\n    const hasDetails = toRef(() => !props.hideDetails || (\n      props.hideDetails === 'auto' &&\n      (hasMessages.value || !!slots.details)\n    ))\n\n    const messagesId = computed(() => hasDetails.value ? `${id.value}-messages` : undefined)\n\n    const slotProps = computed<VInputSlot>(() => ({\n      id,\n      messagesId,\n      isDirty,\n      isDisabled,\n      isReadonly,\n      isPristine,\n      isValid,\n      isValidating,\n      hasDetails,\n      reset,\n      resetValidation,\n      validate,\n    }))\n\n    const color = toRef(() => {\n      return props.error || props.disabled ? undefined\n        : props.focused ? props.color\n        : props.baseColor\n    })\n\n    const iconColor = toRef(() => {\n      if (!props.iconColor) return undefined\n\n      return props.iconColor === true ? color.value : props.iconColor\n    })\n\n    useRender(() => {\n      const hasPrepend = !!(slots.prepend || props.prependIcon)\n      const hasAppend = !!(slots.append || props.appendIcon)\n\n      return (\n        <div\n          class={[\n            'v-input',\n            `v-input--${props.direction}`,\n            {\n              'v-input--center-affix': props.centerAffix,\n              'v-input--focused': props.focused,\n              'v-input--glow': props.glow,\n              'v-input--hide-spin-buttons': props.hideSpinButtons,\n              'v-input--indent-details': props.indentDetails,\n            },\n            densityClasses.value,\n            themeClasses.value,\n            rtlClasses.value,\n            validationClasses.value,\n            props.class,\n          ]}\n          style={[\n            dimensionStyles.value,\n            props.style,\n          ]}\n        >\n          { hasPrepend && (\n            <div key=\"prepend\" class=\"v-input__prepend\">\n              { slots.prepend\n                ? slots.prepend(slotProps.value)\n                : (props.prependIcon && (\n                  <InputIcon\n                    key=\"prepend-icon\"\n                    name=\"prepend\"\n                    color={ iconColor.value }\n                  />\n                ))\n              }\n            </div>\n          )}\n\n          { slots.default && (\n            <div class=\"v-input__control\">\n              { slots.default?.(slotProps.value) }\n            </div>\n          )}\n\n          { hasAppend && (\n            <div key=\"append\" class=\"v-input__append\">\n              { slots.append\n                ? slots.append(slotProps.value)\n                : (props.appendIcon && (\n                  <InputIcon\n                    key=\"append-icon\"\n                    name=\"append\"\n                    color={ iconColor.value }\n                  />\n                ))\n              }\n            </div>\n          )}\n\n          { hasDetails.value && (\n            <div\n              id={ messagesId.value }\n              class=\"v-input__details\"\n              role=\"alert\"\n              aria-live=\"polite\"\n            >\n              <VMessages\n                active={ hasMessages.value }\n                messages={ messages.value }\n                v-slots={{ message: slots.message }}\n              />\n\n              { slots.details?.(slotProps.value) }\n            </div>\n          )}\n        </div>\n      )\n    })\n\n    return {\n      reset,\n      resetValidation,\n      validate,\n      isValid,\n      errorMessages,\n    }\n  },\n})\n\nexport type VInput = InstanceType<typeof VInput>\n"],"mappings":"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","ignoreList":[]}