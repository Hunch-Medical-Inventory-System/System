{"version":3,"file":"VPagination.js","names":["VBtn","useDisplay","makeBorderProps","makeComponentProps","provideDefaults","makeDensityProps","makeElevationProps","IconValue","useLocale","useRtl","useProxiedModel","useRefs","useResizeObserver","makeRoundedProps","makeSizeProps","makeTagProps","makeThemeProps","provideTheme","makeVariantProps","computed","nextTick","shallowRef","toRef","createRange","genericComponent","keyValues","propsFactory","useRender","makeVPaginationProps","activeColor","String","start","type","Number","default","modelValue","props","disabled","Boolean","length","validator","val","totalVisible","firstIcon","prevIcon","nextIcon","lastIcon","ariaLabel","pageAriaLabel","currentPageAriaLabel","firstAriaLabel","previousAriaLabel","nextAriaLabel","lastAriaLabel","ellipsis","showFirstLastPage","tag","variant","VPagination","name","emits","value","first","prev","next","last","setup","slots","emit","page","t","n","isRtl","themeClasses","width","maxButtons","undefined","scoped","resizeRef","entries","target","contentRect","firstItem","querySelector","totalWidth","itemWidth","offsetWidth","parseFloat","getComputedStyle","marginRight","getMax","parseInt","minButtons","Math","max","floor","toFixed","range","isNaN","MAX_SAFE_INTEGER","even","middle","left","right","rangeLength","rangeStart","ceil","setValue","e","event","preventDefault","refs","updateRef","VPaginationBtn","color","border","density","size","rounded","elevation","items","map","item","index","ref","isActive","key","icon","onClick","controls","prevDisabled","nextDisabled","updateFocus","currentIndex","$el","focus","onKeydown","_createVNode","_normalizeClass","class","_normalizeStyle","style","_createElementVNode","_mergeProps"],"sources":["../../../src/components/VPagination/VPagination.tsx"],"sourcesContent":["// Styles\nimport './VPagination.sass'\n\n// Components\nimport { VBtn } from '../VBtn'\n\n// Composables\nimport { useDisplay } from '@/composables'\nimport { makeBorderProps } from '@/composables/border'\nimport { makeComponentProps } from '@/composables/component'\nimport { provideDefaults } from '@/composables/defaults'\nimport { makeDensityProps } from '@/composables/density'\nimport { makeElevationProps } from '@/composables/elevation'\nimport { IconValue } from '@/composables/icons'\nimport { useLocale, useRtl } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useRefs } from '@/composables/refs'\nimport { useResizeObserver } from '@/composables/resizeObserver'\nimport { makeRoundedProps } from '@/composables/rounded'\nimport { makeSizeProps } from '@/composables/size'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { makeVariantProps } from '@/composables/variant'\n\n// Utilities\nimport { computed, nextTick, shallowRef, toRef } from 'vue'\nimport { createRange, genericComponent, keyValues, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { ComponentPublicInstance } from 'vue'\n\ntype ItemSlot = {\n  isActive: boolean\n  key: string | number\n  page: string\n  props: Record<string, any>\n}\n\ntype ControlSlot = {\n  icon: IconValue\n  onClick: (e: Event) => void\n  disabled: boolean\n  'aria-label': string\n  'aria-disabled': boolean\n}\n\nexport type VPaginationSlots = {\n  item: ItemSlot\n  first: ControlSlot\n  prev: ControlSlot\n  next: ControlSlot\n  last: ControlSlot\n}\n\nexport const makeVPaginationProps = propsFactory({\n  activeColor: String,\n  start: {\n    type: [Number, String],\n    default: 1,\n  },\n  modelValue: {\n    type: Number,\n    default: (props: any) => props.start as number,\n  },\n  disabled: Boolean,\n  length: {\n    type: [Number, String],\n    default: 1,\n    validator: (val: number) => val % 1 === 0,\n  },\n  totalVisible: [Number, String],\n  firstIcon: {\n    type: IconValue,\n    default: '$first',\n  },\n  prevIcon: {\n    type: IconValue,\n    default: '$prev',\n  },\n  nextIcon: {\n    type: IconValue,\n    default: '$next',\n  },\n  lastIcon: {\n    type: IconValue,\n    default: '$last',\n  },\n  ariaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.root',\n  },\n  pageAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.page',\n  },\n  currentPageAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.currentPage',\n  },\n  firstAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.first',\n  },\n  previousAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.previous',\n  },\n  nextAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.next',\n  },\n  lastAriaLabel: {\n    type: String,\n    default: '$vuetify.pagination.ariaLabel.last',\n  },\n  ellipsis: {\n    type: String,\n    default: '...',\n  },\n  showFirstLastPage: Boolean,\n\n  ...makeBorderProps(),\n  ...makeComponentProps(),\n  ...makeDensityProps(),\n  ...makeElevationProps(),\n  ...makeRoundedProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({ tag: 'nav' }),\n  ...makeThemeProps(),\n  ...makeVariantProps({ variant: 'text' } as const),\n}, 'VPagination')\n\nexport const VPagination = genericComponent<VPaginationSlots>()({\n  name: 'VPagination',\n\n  props: makeVPaginationProps(),\n\n  emits: {\n    'update:modelValue': (value: number) => true,\n    first: (value: number) => true,\n    prev: (value: number) => true,\n    next: (value: number) => true,\n    last: (value: number) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const page = useProxiedModel(props, 'modelValue')\n    const { t, n } = useLocale()\n    const { isRtl } = useRtl()\n    const { themeClasses } = provideTheme(props)\n    const { width } = useDisplay()\n    const maxButtons = shallowRef(-1)\n\n    provideDefaults(undefined, { scoped: true })\n\n    const { resizeRef } = useResizeObserver((entries: ResizeObserverEntry[]) => {\n      if (!entries.length) return\n\n      const { target, contentRect } = entries[0]\n\n      const firstItem = target.querySelector('.v-pagination__list > *') as HTMLElement\n\n      if (!firstItem) return\n\n      const totalWidth = contentRect.width\n      const itemWidth =\n        firstItem.offsetWidth +\n        parseFloat(getComputedStyle(firstItem).marginRight) * 2\n\n      maxButtons.value = getMax(totalWidth, itemWidth)\n    })\n\n    const length = computed(() => parseInt(props.length, 10))\n    const start = computed(() => parseInt(props.start, 10))\n\n    const totalVisible = computed(() => {\n      if (props.totalVisible != null) return parseInt(props.totalVisible, 10)\n      else if (maxButtons.value >= 0) return maxButtons.value\n      return getMax(width.value, 58)\n    })\n\n    function getMax (totalWidth: number, itemWidth: number) {\n      const minButtons = props.showFirstLastPage ? 5 : 3\n      return Math.max(0, Math.floor(\n        // Round to two decimal places to avoid floating point errors\n        Number(((totalWidth - itemWidth * minButtons) / itemWidth).toFixed(2))\n      ))\n    }\n\n    const range = computed(() => {\n      if (length.value <= 0 || isNaN(length.value) || length.value > Number.MAX_SAFE_INTEGER) return []\n\n      if (totalVisible.value <= 0) return []\n      else if (totalVisible.value === 1) return [page.value]\n\n      if (length.value <= totalVisible.value) {\n        return createRange(length.value, start.value)\n      }\n\n      const even = totalVisible.value % 2 === 0\n      const middle = even ? totalVisible.value / 2 : Math.floor(totalVisible.value / 2)\n      const left = even ? middle : middle + 1\n      const right = length.value - middle\n\n      if (left - page.value >= 0) {\n        return [...createRange(Math.max(1, totalVisible.value - 1), start.value), props.ellipsis, length.value]\n      } else if (page.value - right >= (even ? 1 : 0)) {\n        const rangeLength = totalVisible.value - 1\n        const rangeStart = length.value - rangeLength + start.value\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart)]\n      } else {\n        const rangeLength = Math.max(1, totalVisible.value - 2)\n        const rangeStart = rangeLength === 1 ? page.value : page.value - Math.ceil(rangeLength / 2) + start.value\n        return [start.value, props.ellipsis, ...createRange(rangeLength, rangeStart), props.ellipsis, length.value]\n      }\n    })\n\n    // TODO: 'first' | 'prev' | 'next' | 'last' does not work here?\n    function setValue (e: Event, value: number, event?: any) {\n      e.preventDefault()\n      page.value = value\n      event && emit(event, value)\n    }\n\n    const { refs, updateRef } = useRefs<ComponentPublicInstance>()\n\n    provideDefaults({\n      VPaginationBtn: {\n        color: toRef(() => props.color),\n        border: toRef(() => props.border),\n        density: toRef(() => props.density),\n        size: toRef(() => props.size),\n        variant: toRef(() => props.variant),\n        rounded: toRef(() => props.rounded),\n        elevation: toRef(() => props.elevation),\n      },\n    })\n\n    const items = computed(() => {\n      return range.value.map((item, index) => {\n        const ref = (e: any) => updateRef(e, index)\n\n        if (typeof item === 'string') {\n          return {\n            isActive: false,\n            key: `ellipsis-${index}`,\n            page: item,\n            props: {\n              ref,\n              ellipsis: true,\n              icon: true,\n              disabled: true,\n            },\n          }\n        } else {\n          const isActive = item === page.value\n          return {\n            isActive,\n            key: item,\n            page: n(item),\n            props: {\n              ref,\n              ellipsis: false,\n              icon: true,\n              disabled: !!props.disabled || Number(props.length) < 2,\n              color: isActive ? props.activeColor : props.color,\n              'aria-current': isActive,\n              'aria-label': t(isActive ? props.currentPageAriaLabel : props.pageAriaLabel, item),\n              onClick: (e: Event) => setValue(e, item),\n            },\n          }\n        }\n      })\n    })\n\n    const controls = computed(() => {\n      const prevDisabled = !!props.disabled || page.value <= start.value\n      const nextDisabled = !!props.disabled || page.value >= start.value + length.value - 1\n\n      return {\n        first: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.lastIcon : props.firstIcon,\n          onClick: (e: Event) => setValue(e, start.value, 'first'),\n          disabled: prevDisabled,\n          'aria-label': t(props.firstAriaLabel),\n          'aria-disabled': prevDisabled,\n        } : undefined,\n        prev: {\n          icon: isRtl.value ? props.nextIcon : props.prevIcon,\n          onClick: (e: Event) => setValue(e, page.value - 1, 'prev'),\n          disabled: prevDisabled,\n          'aria-label': t(props.previousAriaLabel),\n          'aria-disabled': prevDisabled,\n        },\n        next: {\n          icon: isRtl.value ? props.prevIcon : props.nextIcon,\n          onClick: (e: Event) => setValue(e, page.value + 1, 'next'),\n          disabled: nextDisabled,\n          'aria-label': t(props.nextAriaLabel),\n          'aria-disabled': nextDisabled,\n        },\n        last: props.showFirstLastPage ? {\n          icon: isRtl.value ? props.firstIcon : props.lastIcon,\n          onClick: (e: Event) => setValue(e, start.value + length.value - 1, 'last'),\n          disabled: nextDisabled,\n          'aria-label': t(props.lastAriaLabel),\n          'aria-disabled': nextDisabled,\n        } : undefined,\n      }\n    })\n\n    function updateFocus () {\n      const currentIndex = page.value - start.value\n      refs.value[currentIndex]?.$el.focus()\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key === keyValues.left && !props.disabled && page.value > Number(props.start)) {\n        page.value = page.value - 1\n        nextTick(updateFocus)\n      } else if (e.key === keyValues.right && !props.disabled && page.value < start.value + length.value - 1) {\n        page.value = page.value + 1\n        nextTick(updateFocus)\n      }\n    }\n\n    useRender(() => (\n      <props.tag\n        ref={ resizeRef }\n        class={[\n          'v-pagination',\n          themeClasses.value,\n          props.class,\n        ]}\n        style={ props.style }\n        role=\"navigation\"\n        aria-label={ t(props.ariaLabel) }\n        onKeydown={ onKeydown }\n        data-test=\"v-pagination-root\"\n      >\n        <ul class=\"v-pagination__list\">\n          { props.showFirstLastPage && (\n            <li key=\"first\" class=\"v-pagination__first\" data-test=\"v-pagination-first\">\n              { slots.first ? slots.first(controls.value.first!) : (\n                <VBtn _as=\"VPaginationBtn\" { ...controls.value.first } />\n              )}\n            </li>\n          )}\n\n          <li key=\"prev\" class=\"v-pagination__prev\" data-test=\"v-pagination-prev\">\n            { slots.prev ? slots.prev(controls.value.prev) : (\n              <VBtn _as=\"VPaginationBtn\" { ...controls.value.prev } />\n            )}\n          </li>\n\n          { items.value.map((item, index) => (\n            <li\n              key={ item.key }\n              class={[\n                'v-pagination__item',\n                {\n                  'v-pagination__item--is-active': item.isActive,\n                },\n              ]}\n              data-test=\"v-pagination-item\"\n            >\n              { slots.item ? slots.item(item) : (\n                <VBtn _as=\"VPaginationBtn\" { ...item.props }>{ item.page }</VBtn>\n              )}\n            </li>\n          ))}\n\n          <li\n            key=\"next\"\n            class=\"v-pagination__next\"\n            data-test=\"v-pagination-next\"\n          >\n            { slots.next ? slots.next(controls.value.next) : (\n              <VBtn _as=\"VPaginationBtn\" { ...controls.value.next } />\n            )}\n          </li>\n\n          { props.showFirstLastPage && (\n            <li\n              key=\"last\"\n              class=\"v-pagination__last\"\n              data-test=\"v-pagination-last\"\n            >\n              { slots.last ? slots.last(controls.value.last!) : (\n                <VBtn _as=\"VPaginationBtn\" { ...controls.value.last } />\n              )}\n            </li>\n          )}\n        </ul>\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport type VPagination = InstanceType<typeof VPagination>\n"],"mappings":"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","ignoreList":[]}