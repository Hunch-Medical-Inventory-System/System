{"version":3,"file":"theme.js","names":["computed","getCurrentScope","inject","onScopeDispose","provide","ref","shallowRef","toRef","watch","watchEffect","consoleWarn","createRange","darken","deprecate","getCurrentInstance","getLuma","hasLightForeground","IN_BROWSER","lighten","mergeDeep","parseColor","propsFactory","RGBtoHex","SUPPORTS_MATCH_MEDIA","ThemeSymbol","Symbol","for","makeThemeProps","theme","String","genDefaults","defaultTheme","prefix","variations","colors","themes","light","dark","background","surface","primary","secondary","error","info","success","warning","variables","stylesheetId","scoped","utilities","parseThemeOptions","options","defaults","isDisabled","createCssClass","lines","selector","content","scope","push","getScopedSelector","map","line","genCssVariables","lightOverlay","darkOverlay","key","value","Object","entries","rgb","r","g","b","a","startsWith","color","undefined","genVariation","name","object","variation","fn","amount","genVariations","variationColors","genOnColors","onColors","keys","onColor","colorVal","scopeSelector","upsertStyles","id","cspNonce","styles","styleEl","getOrCreateStyleElement","innerHTML","style","document","getElementById","createElement","type","setAttribute","head","appendChild","createTheme","parsedOptions","_name","systemName","get","set","val","computedThemes","acc","original","merged","current","isSystem","themeName","bgLines","fgLines","Set","values","flatMap","v","join","themeClasses","themeNames","media","window","matchMedia","updateSystemName","matches","addEventListener","passive","removeEventListener","install","app","_context","provides","usehead","getHead","textContent","nonce","entry","patch","addHeadObjs","updateDOM","updateStyles","immediate","change","includes","cycle","themeArray","currentIndex","indexOf","nextIndex","length","toggle","globalName","Proxy","target","prop","Reflect","global","provideTheme","props","Error","newTheme","useTheme"],"sources":["../../src/composables/theme.ts"],"sourcesContent":["// Utilities\nimport {\n  computed,\n  getCurrentScope,\n  inject,\n  onScopeDispose,\n  provide,\n  ref,\n  shallowRef,\n  toRef,\n  watch,\n  watchEffect,\n} from 'vue'\nimport {\n  consoleWarn,\n  createRange,\n  darken,\n  deprecate,\n  getCurrentInstance,\n  getLuma,\n  hasLightForeground,\n  IN_BROWSER,\n  lighten,\n  mergeDeep,\n  parseColor,\n  propsFactory,\n  RGBtoHex,\n  SUPPORTS_MATCH_MEDIA,\n} from '@/util'\n\n// Types\nimport type { VueHeadClient } from '@unhead/vue/client'\nimport type { HeadClient } from '@vueuse/head'\nimport type { App, DeepReadonly, InjectionKey, Ref } from 'vue'\nimport type { Color } from '@/util'\n\ntype DeepPartial<T> = T extends object ? { [P in keyof T]?: DeepPartial<T[P]> } : T\n\nexport type ThemeOptions = false | {\n  cspNonce?: string\n  defaultTheme?: 'light' | 'dark' | 'system' | string & {}\n  variations?: false | VariationsOptions\n  themes?: Record<string, ThemeDefinition>\n  stylesheetId?: string\n  scope?: string\n}\nexport type ThemeDefinition = DeepPartial<InternalThemeDefinition>\n\ninterface InternalThemeOptions {\n  cspNonce?: string\n  isDisabled: boolean\n  defaultTheme: 'light' | 'dark' | 'system' | string & {}\n  prefix: string\n  variations: false | VariationsOptions\n  themes: Record<string, InternalThemeDefinition>\n  stylesheetId: string\n  scope?: string\n  scoped: boolean\n  utilities: boolean\n}\n\ninterface VariationsOptions {\n  colors: string[]\n  lighten: number\n  darken: number\n}\n\ninterface InternalThemeDefinition {\n  dark: boolean\n  colors: Colors\n  variables: Record<string, string | number>\n}\n\nexport interface Colors extends BaseColors, OnColors {\n  [key: string]: Color\n}\n\ninterface BaseColors {\n  background: Color\n  surface: Color\n  primary: Color\n  secondary: Color\n  success: Color\n  warning: Color\n  error: Color\n  info: Color\n}\n\ninterface OnColors {\n  'on-background': Color\n  'on-surface': Color\n  'on-primary': Color\n  'on-secondary': Color\n  'on-success': Color\n  'on-warning': Color\n  'on-error': Color\n  'on-info': Color\n}\n\nexport interface ThemeInstance {\n  change: (themeName: string) => void\n  cycle: (themeArray?: string[]) => void\n  toggle: (themeArray?: [string, string]) => void\n\n  readonly isDisabled: boolean\n  readonly isSystem: Readonly<Ref<boolean>>\n  readonly themes: Ref<Record<string, InternalThemeDefinition>>\n\n  readonly name: Readonly<Ref<string>>\n  readonly current: DeepReadonly<Ref<InternalThemeDefinition>>\n  readonly computedThemes: DeepReadonly<Ref<Record<string, InternalThemeDefinition>>>\n  readonly prefix: string\n\n  readonly themeClasses: Readonly<Ref<string | undefined>>\n  readonly styles: Readonly<Ref<string>>\n\n  readonly global: {\n    readonly name: Ref<string>\n    readonly current: DeepReadonly<Ref<InternalThemeDefinition>>\n  }\n}\n\nexport const ThemeSymbol: InjectionKey<ThemeInstance> = Symbol.for('vuetify:theme')\n\nexport const makeThemeProps = propsFactory({\n  theme: String,\n}, 'theme')\n\nfunction genDefaults () {\n  return {\n    defaultTheme: 'system',\n    prefix: 'v-',\n    variations: { colors: [], lighten: 0, darken: 0 },\n    themes: {\n      light: {\n        dark: false,\n        colors: {\n          background: '#FFFFFF',\n          surface: '#FFFFFF',\n          'surface-bright': '#FFFFFF',\n          'surface-light': '#EEEEEE',\n          'surface-variant': '#424242',\n          'on-surface-variant': '#EEEEEE',\n          primary: '#1867C0',\n          'primary-darken-1': '#1F5592',\n          secondary: '#48A9A6',\n          'secondary-darken-1': '#018786',\n          error: '#B00020',\n          info: '#2196F3',\n          success: '#4CAF50',\n          warning: '#FB8C00',\n        },\n        variables: {\n          'border-color': '#000000',\n          'border-opacity': 0.12,\n          'high-emphasis-opacity': 0.87,\n          'medium-emphasis-opacity': 0.60,\n          'disabled-opacity': 0.38,\n          'idle-opacity': 0.04,\n          'hover-opacity': 0.04,\n          'focus-opacity': 0.12,\n          'selected-opacity': 0.08,\n          'activated-opacity': 0.12,\n          'pressed-opacity': 0.12,\n          'dragged-opacity': 0.08,\n          'theme-kbd': '#EEEEEE',\n          'theme-on-kbd': '#000000',\n          'theme-code': '#F5F5F5',\n          'theme-on-code': '#000000',\n          'theme-on-dark': '#FFF',\n          'theme-on-light': '#000',\n        },\n      },\n      dark: {\n        dark: true,\n        colors: {\n          background: '#121212',\n          surface: '#212121',\n          'surface-bright': '#ccbfd6',\n          'surface-light': '#424242',\n          'surface-variant': '#c8c8c8',\n          'on-surface-variant': '#000000',\n          primary: '#2196F3',\n          'primary-darken-1': '#277CC1',\n          secondary: '#54B6B2',\n          'secondary-darken-1': '#48A9A6',\n          error: '#CF6679',\n          info: '#2196F3',\n          success: '#4CAF50',\n          warning: '#FB8C00',\n        },\n        variables: {\n          'border-color': '#FFFFFF',\n          'border-opacity': 0.12,\n          'high-emphasis-opacity': 1,\n          'medium-emphasis-opacity': 0.70,\n          'disabled-opacity': 0.50,\n          'idle-opacity': 0.10,\n          'hover-opacity': 0.04,\n          'focus-opacity': 0.12,\n          'selected-opacity': 0.08,\n          'activated-opacity': 0.12,\n          'pressed-opacity': 0.16,\n          'dragged-opacity': 0.08,\n          'theme-kbd': '#424242',\n          'theme-on-kbd': '#FFFFFF',\n          'theme-code': '#343434',\n          'theme-on-code': '#CCCCCC',\n          'theme-on-dark': '#FFF',\n          'theme-on-light': '#000',\n        },\n      },\n    },\n    stylesheetId: 'vuetify-theme-stylesheet',\n    scoped: false,\n    utilities: true,\n  }\n}\n\nfunction parseThemeOptions (options: ThemeOptions = genDefaults()): InternalThemeOptions {\n  const defaults = genDefaults()\n\n  if (!options) return { ...defaults, isDisabled: true } as any\n\n  return mergeDeep(defaults, options) as InternalThemeOptions\n}\n\nfunction createCssClass (lines: string[], selector: string, content: string[], scope?: string) {\n  lines.push(\n    `${getScopedSelector(selector, scope)} {\\n`,\n    ...content.map(line => `  ${line};\\n`),\n    '}\\n',\n  )\n}\n\nfunction genCssVariables (theme: InternalThemeDefinition, prefix: string) {\n  const lightOverlay = theme.dark ? 2 : 1\n  const darkOverlay = theme.dark ? 1 : 2\n\n  const variables: string[] = []\n  for (const [key, value] of Object.entries(theme.colors)) {\n    const rgb = parseColor(value)\n    variables.push(`--${prefix}theme-${key}: ${rgb.r},${rgb.g},${rgb.b}` + (rgb.a == null ? '' : `,${rgb.a}`))\n    if (!key.startsWith('on-')) {\n      variables.push(`--${prefix}theme-${key}-overlay-multiplier: ${getLuma(value) > 0.18 ? lightOverlay : darkOverlay}`)\n    }\n  }\n\n  for (const [key, value] of Object.entries(theme.variables)) {\n    const color = typeof value === 'string' && value.startsWith('#') ? parseColor(value) : undefined\n    const rgb = color ? `${color.r}, ${color.g}, ${color.b}` : undefined\n    variables.push(`--${prefix}${key}: ${rgb ?? value}`)\n  }\n\n  return variables\n}\n\nfunction genVariation (name: string, color: Color, variations: VariationsOptions | false) {\n  const object: Record<string, string> = {}\n  if (variations) {\n    for (const variation of (['lighten', 'darken'] as const)) {\n      const fn = variation === 'lighten' ? lighten : darken\n      for (const amount of createRange(variations[variation], 1)) {\n        object[`${name}-${variation}-${amount}`] = RGBtoHex(fn(parseColor(color), amount))\n      }\n    }\n  }\n  return object\n}\n\nfunction genVariations (colors: InternalThemeDefinition['colors'], variations: VariationsOptions | false) {\n  if (!variations) return {}\n\n  let variationColors = {}\n  for (const name of variations.colors) {\n    const color = colors[name]\n\n    if (!color) continue\n\n    variationColors = {\n      ...variationColors,\n      ...genVariation(name, color, variations),\n    }\n  }\n  return variationColors\n}\n\nfunction genOnColors (colors: InternalThemeDefinition['colors'], variables: InternalThemeDefinition['variables']) {\n  const onColors = {} as InternalThemeDefinition['colors']\n\n  for (const color of Object.keys(colors)) {\n    if (color.startsWith('on-') || colors[`on-${color}`]) continue\n\n    const onColor = `on-${color}` as keyof OnColors\n    const colorVal = parseColor(colors[color])\n\n    onColors[onColor] = hasLightForeground(colorVal)\n      ? variables['theme-on-dark']\n      : variables['theme-on-light']\n  }\n\n  return onColors\n}\n\nfunction getScopedSelector (selector: string, scope?: string) {\n  if (!scope) return selector\n\n  const scopeSelector = `:where(${scope})`\n\n  return selector === ':root' ? scopeSelector : `${scopeSelector} ${selector}`\n}\n\nfunction upsertStyles (id: string, cspNonce: string | undefined, styles: string) {\n  const styleEl = getOrCreateStyleElement(id, cspNonce)\n\n  if (!styleEl) return\n\n  styleEl.innerHTML = styles\n}\n\nfunction getOrCreateStyleElement (id: string, cspNonce?: string) {\n  if (!IN_BROWSER) return null\n\n  let style = document.getElementById(id) as HTMLStyleElement | null\n\n  if (!style) {\n    style = document.createElement('style')\n    style.id = id\n    style.type = 'text/css'\n\n    if (cspNonce) style.setAttribute('nonce', cspNonce)\n\n    document.head.appendChild(style)\n  }\n\n  return style\n}\n\n// Composables\nexport function createTheme (options?: ThemeOptions): ThemeInstance & { install: (app: App) => void } {\n  const parsedOptions = parseThemeOptions(options)\n  const _name = shallowRef(parsedOptions.defaultTheme)\n  const themes = ref(parsedOptions.themes)\n  const systemName = shallowRef('light')\n\n  const name = computed({\n    get () {\n      return _name.value === 'system' ? systemName.value : _name.value\n    },\n    set (val: string) {\n      _name.value = val\n    },\n  })\n\n  const computedThemes = computed(() => {\n    const acc: Record<string, InternalThemeDefinition> = {}\n    for (const [name, original] of Object.entries(themes.value)) {\n      const defaultTheme = original.dark || name === 'dark'\n        ? themes.value.dark\n        : themes.value.light\n\n      const merged = mergeDeep(defaultTheme, original) as InternalThemeDefinition\n\n      const colors = {\n        ...merged.colors,\n        ...genVariations(merged.colors, parsedOptions.variations),\n      }\n\n      acc[name] = {\n        ...merged,\n        colors: {\n          ...colors,\n          ...genOnColors(colors, merged.variables),\n        },\n      }\n    }\n    return acc\n  })\n\n  const current = toRef(() => computedThemes.value[name.value])\n\n  const isSystem = toRef(() => _name.value === 'system')\n\n  const styles = computed(() => {\n    const lines: string[] = []\n    const scoped = parsedOptions.scoped ? parsedOptions.prefix : ''\n\n    lines.push('@layer theme-base {\\n')\n\n    if (current.value?.dark) {\n      createCssClass(lines, ':root', ['color-scheme: dark'], parsedOptions.scope)\n    }\n\n    createCssClass(lines, ':root', genCssVariables(current.value, parsedOptions.prefix), parsedOptions.scope)\n\n    for (const [themeName, theme] of Object.entries(computedThemes.value)) {\n      createCssClass(lines, `.${parsedOptions.prefix}theme--${themeName}`, [\n        `color-scheme: ${theme.dark ? 'dark' : 'normal'}`,\n        ...genCssVariables(theme, parsedOptions.prefix),\n      ], parsedOptions.scope)\n    }\n\n    lines.push('}\\n')\n\n    if (parsedOptions.utilities) {\n      const bgLines: string[] = []\n      const fgLines: string[] = []\n\n      const colors = new Set(Object.values(computedThemes.value).flatMap(theme => Object.keys(theme.colors)))\n      for (const key of colors) {\n        if (key.startsWith('on-')) {\n          createCssClass(fgLines, `.${key}`, [`color: rgb(var(--${parsedOptions.prefix}theme-${key}))`], parsedOptions.scope)\n        } else {\n          createCssClass(bgLines, `.${scoped}bg-${key}`, [\n            `--${parsedOptions.prefix}theme-overlay-multiplier: var(--${parsedOptions.prefix}theme-${key}-overlay-multiplier)`,\n            `background-color: rgb(var(--${parsedOptions.prefix}theme-${key}))`,\n            `color: rgb(var(--${parsedOptions.prefix}theme-on-${key}))`,\n          ], parsedOptions.scope)\n          createCssClass(fgLines, `.${scoped}text-${key}`, [`color: rgb(var(--${parsedOptions.prefix}theme-${key}))`], parsedOptions.scope)\n          createCssClass(fgLines, `.${scoped}border-${key}`, [`--${parsedOptions.prefix}border-color: var(--${parsedOptions.prefix}theme-${key})`], parsedOptions.scope)\n        }\n      }\n\n      lines.push(\n        '@layer theme-background {\\n',\n        ...bgLines.map(v => `  ${v}`),\n        '}\\n',\n        '@layer theme-foreground {\\n',\n        ...fgLines.map(v => `  ${v}`),\n        '}\\n',\n      )\n    }\n\n    return '@layer vuetify-utilities {\\n' + lines.map(v => `  ${v}`).join('') + '\\n}'\n  })\n\n  const themeClasses = toRef(() => parsedOptions.isDisabled ? undefined : `${parsedOptions.prefix}theme--${name.value}`)\n  const themeNames = toRef(() => Object.keys(computedThemes.value))\n\n  if (SUPPORTS_MATCH_MEDIA) {\n    const media = window.matchMedia('(prefers-color-scheme: dark)')\n\n    function updateSystemName () {\n      systemName.value = media.matches ? 'dark' : 'light'\n    }\n\n    updateSystemName()\n\n    media.addEventListener('change', updateSystemName, { passive: true })\n\n    if (getCurrentScope()) {\n      onScopeDispose(() => {\n        media.removeEventListener('change', updateSystemName)\n      })\n    }\n  }\n\n  function install (app: App) {\n    if (parsedOptions.isDisabled) return\n\n    const head = app._context.provides.usehead as HeadClient & VueHeadClient<any> | undefined\n    if (head) {\n      function getHead () {\n        return {\n          style: [{\n            textContent: styles.value,\n            id: parsedOptions.stylesheetId,\n            nonce: parsedOptions.cspNonce || false as never,\n          }],\n        }\n      }\n\n      if (head.push) {\n        const entry = head.push(getHead)\n        if (IN_BROWSER) {\n          watch(styles, () => { entry.patch(getHead) })\n        }\n      } else {\n        if (IN_BROWSER) {\n          head.addHeadObjs(toRef(getHead))\n          watchEffect(() => head.updateDOM())\n        } else {\n          head.addHeadObjs(getHead())\n        }\n      }\n    } else {\n      if (IN_BROWSER) {\n        watch(styles, updateStyles, { immediate: true })\n      } else {\n        updateStyles()\n      }\n\n      function updateStyles () {\n        upsertStyles(parsedOptions.stylesheetId, parsedOptions.cspNonce, styles.value)\n      }\n    }\n  }\n\n  function change (themeName: string) {\n    if (themeName !== 'system' && !themeNames.value.includes(themeName)) {\n      consoleWarn(`Theme \"${themeName}\" not found on the Vuetify theme instance`)\n      return\n    }\n\n    name.value = themeName\n  }\n\n  function cycle (themeArray: string[] = themeNames.value) {\n    const currentIndex = themeArray.indexOf(name.value)\n    const nextIndex = currentIndex === -1 ? 0 : (currentIndex + 1) % themeArray.length\n\n    change(themeArray[nextIndex])\n  }\n\n  function toggle (themeArray: [string, string] = ['light', 'dark']) {\n    cycle(themeArray)\n  }\n\n  const globalName = new Proxy(name, {\n    get (target, prop) {\n      return Reflect.get(target, prop)\n    },\n    set (target, prop, val) {\n      if (prop === 'value') {\n        deprecate(`theme.global.name.value = ${val}`, `theme.change('${val}')`)\n      }\n      return Reflect.set(target, prop, val)\n    },\n  })\n\n  return {\n    install,\n    change,\n    cycle,\n    toggle,\n    isDisabled: parsedOptions.isDisabled,\n    isSystem,\n    name,\n    themes,\n    current,\n    computedThemes,\n    prefix: parsedOptions.prefix,\n    themeClasses,\n    styles,\n    global: {\n      name: globalName,\n      current,\n    },\n  }\n}\n\nexport function provideTheme (props: { theme?: string }) {\n  getCurrentInstance('provideTheme')\n\n  const theme = inject(ThemeSymbol, null)\n\n  if (!theme) throw new Error('Could not find Vuetify theme injection')\n\n  const name = toRef(() => props.theme ?? theme.name.value)\n  const current = toRef(() => theme.themes.value[name.value])\n\n  const themeClasses = toRef(() => theme.isDisabled ? undefined : `${theme.prefix}theme--${name.value}`)\n\n  const newTheme: ThemeInstance = {\n    ...theme,\n    name,\n    current,\n    themeClasses,\n  }\n\n  provide(ThemeSymbol, newTheme)\n\n  return newTheme\n}\n\nexport function useTheme () {\n  getCurrentInstance('useTheme')\n\n  const theme = inject(ThemeSymbol, null)\n\n  if (!theme) throw new Error('Could not find Vuetify theme injection')\n\n  return theme\n}\n"],"mappings":"AAAA;AACA,SACEA,QAAQ,EACRC,eAAe,EACfC,MAAM,EACNC,cAAc,EACdC,OAAO,EACPC,GAAG,EACHC,UAAU,EACVC,KAAK,EACLC,KAAK,EACLC,WAAW,QACN,KAAK;AAAA,SAEVC,WAAW,EACXC,WAAW,EACXC,MAAM,EACNC,SAAS,EACTC,kBAAkB,EAClBC,OAAO,EACPC,kBAAkB,EAClBC,UAAU,EACVC,OAAO,EACPC,SAAS,EACTC,UAAU,EACVC,YAAY,EACZC,QAAQ,EACRC,oBAAoB,4BAGtB;AA4FA,OAAO,MAAMC,WAAwC,GAAGC,MAAM,CAACC,GAAG,CAAC,eAAe,CAAC;AAEnF,OAAO,MAAMC,cAAc,GAAGN,YAAY,CAAC;EACzCO,KAAK,EAAEC;AACT,CAAC,EAAE,OAAO,CAAC;AAEX,SAASC,WAAWA,CAAA,EAAI;EACtB,OAAO;IACLC,YAAY,EAAE,QAAQ;IACtBC,MAAM,EAAE,IAAI;IACZC,UAAU,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEhB,OAAO,EAAE,CAAC;MAAEN,MAAM,EAAE;IAAE,CAAC;IACjDuB,MAAM,EAAE;MACNC,KAAK,EAAE;QACLC,IAAI,EAAE,KAAK;QACXH,MAAM,EAAE;UACNI,UAAU,EAAE,SAAS;UACrBC,OAAO,EAAE,SAAS;UAClB,gBAAgB,EAAE,SAAS;UAC3B,eAAe,EAAE,SAAS;UAC1B,iBAAiB,EAAE,SAAS;UAC5B,oBAAoB,EAAE,SAAS;UAC/BC,OAAO,EAAE,SAAS;UAClB,kBAAkB,EAAE,SAAS;UAC7BC,SAAS,EAAE,SAAS;UACpB,oBAAoB,EAAE,SAAS;UAC/BC,KAAK,EAAE,SAAS;UAChBC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE,SAAS;UAClBC,OAAO,EAAE;QACX,CAAC;QACDC,SAAS,EAAE;UACT,cAAc,EAAE,SAAS;UACzB,gBAAgB,EAAE,IAAI;UACtB,uBAAuB,EAAE,IAAI;UAC7B,yBAAyB,EAAE,IAAI;UAC/B,kBAAkB,EAAE,IAAI;UACxB,cAAc,EAAE,IAAI;UACpB,eAAe,EAAE,IAAI;UACrB,eAAe,EAAE,IAAI;UACrB,kBAAkB,EAAE,IAAI;UACxB,mBAAmB,EAAE,IAAI;UACzB,iBAAiB,EAAE,IAAI;UACvB,iBAAiB,EAAE,IAAI;UACvB,WAAW,EAAE,SAAS;UACtB,cAAc,EAAE,SAAS;UACzB,YAAY,EAAE,SAAS;UACvB,eAAe,EAAE,SAAS;UAC1B,eAAe,EAAE,MAAM;UACvB,gBAAgB,EAAE;QACpB;MACF,CAAC;MACDT,IAAI,EAAE;QACJA,IAAI,EAAE,IAAI;QACVH,MAAM,EAAE;UACNI,UAAU,EAAE,SAAS;UACrBC,OAAO,EAAE,SAAS;UAClB,gBAAgB,EAAE,SAAS;UAC3B,eAAe,EAAE,SAAS;UAC1B,iBAAiB,EAAE,SAAS;UAC5B,oBAAoB,EAAE,SAAS;UAC/BC,OAAO,EAAE,SAAS;UAClB,kBAAkB,EAAE,SAAS;UAC7BC,SAAS,EAAE,SAAS;UACpB,oBAAoB,EAAE,SAAS;UAC/BC,KAAK,EAAE,SAAS;UAChBC,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE,SAAS;UAClBC,OAAO,EAAE;QACX,CAAC;QACDC,SAAS,EAAE;UACT,cAAc,EAAE,SAAS;UACzB,gBAAgB,EAAE,IAAI;UACtB,uBAAuB,EAAE,CAAC;UAC1B,yBAAyB,EAAE,IAAI;UAC/B,kBAAkB,EAAE,IAAI;UACxB,cAAc,EAAE,IAAI;UACpB,eAAe,EAAE,IAAI;UACrB,eAAe,EAAE,IAAI;UACrB,kBAAkB,EAAE,IAAI;UACxB,mBAAmB,EAAE,IAAI;UACzB,iBAAiB,EAAE,IAAI;UACvB,iBAAiB,EAAE,IAAI;UACvB,WAAW,EAAE,SAAS;UACtB,cAAc,EAAE,SAAS;UACzB,YAAY,EAAE,SAAS;UACvB,eAAe,EAAE,SAAS;UAC1B,eAAe,EAAE,MAAM;UACvB,gBAAgB,EAAE;QACpB;MACF;IACF,CAAC;IACDC,YAAY,EAAE,0BAA0B;IACxCC,MAAM,EAAE,KAAK;IACbC,SAAS,EAAE;EACb,CAAC;AACH;AAEA,SAASC,iBAAiBA,CAAEC,OAAqB,GAAGrB,WAAW,CAAC,CAAC,EAAwB;EACvF,MAAMsB,QAAQ,GAAGtB,WAAW,CAAC,CAAC;EAE9B,IAAI,CAACqB,OAAO,EAAE,OAAO;IAAE,GAAGC,QAAQ;IAAEC,UAAU,EAAE;EAAK,CAAC;EAEtD,OAAOlC,SAAS,CAACiC,QAAQ,EAAED,OAAO,CAAC;AACrC;AAEA,SAASG,cAAcA,CAAEC,KAAe,EAAEC,QAAgB,EAAEC,OAAiB,EAAEC,KAAc,EAAE;EAC7FH,KAAK,CAACI,IAAI,CACR,GAAGC,iBAAiB,CAACJ,QAAQ,EAAEE,KAAK,CAAC,MAAM,EAC3C,GAAGD,OAAO,CAACI,GAAG,CAACC,IAAI,IAAI,KAAKA,IAAI,KAAK,CAAC,EACtC,KACF,CAAC;AACH;AAEA,SAASC,eAAeA,CAAEnC,KAA8B,EAAEI,MAAc,EAAE;EACxE,MAAMgC,YAAY,GAAGpC,KAAK,CAACS,IAAI,GAAG,CAAC,GAAG,CAAC;EACvC,MAAM4B,WAAW,GAAGrC,KAAK,CAACS,IAAI,GAAG,CAAC,GAAG,CAAC;EAEtC,MAAMS,SAAmB,GAAG,EAAE;EAC9B,KAAK,MAAM,CAACoB,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACzC,KAAK,CAACM,MAAM,CAAC,EAAE;IACvD,MAAMoC,GAAG,GAAGlD,UAAU,CAAC+C,KAAK,CAAC;IAC7BrB,SAAS,CAACa,IAAI,CAAC,KAAK3B,MAAM,SAASkC,GAAG,KAAKI,GAAG,CAACC,CAAC,IAAID,GAAG,CAACE,CAAC,IAAIF,GAAG,CAACG,CAAC,EAAE,IAAIH,GAAG,CAACI,CAAC,IAAI,IAAI,GAAG,EAAE,GAAG,IAAIJ,GAAG,CAACI,CAAC,EAAE,CAAC,CAAC;IAC1G,IAAI,CAACR,GAAG,CAACS,UAAU,CAAC,KAAK,CAAC,EAAE;MAC1B7B,SAAS,CAACa,IAAI,CAAC,KAAK3B,MAAM,SAASkC,GAAG,wBAAwBnD,OAAO,CAACoD,KAAK,CAAC,GAAG,IAAI,GAAGH,YAAY,GAAGC,WAAW,EAAE,CAAC;IACrH;EACF;EAEA,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACzC,KAAK,CAACkB,SAAS,CAAC,EAAE;IAC1D,MAAM8B,KAAK,GAAG,OAAOT,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACQ,UAAU,CAAC,GAAG,CAAC,GAAGvD,UAAU,CAAC+C,KAAK,CAAC,GAAGU,SAAS;IAChG,MAAMP,GAAG,GAAGM,KAAK,GAAG,GAAGA,KAAK,CAACL,CAAC,KAAKK,KAAK,CAACJ,CAAC,KAAKI,KAAK,CAACH,CAAC,EAAE,GAAGI,SAAS;IACpE/B,SAAS,CAACa,IAAI,CAAC,KAAK3B,MAAM,GAAGkC,GAAG,KAAKI,GAAG,IAAIH,KAAK,EAAE,CAAC;EACtD;EAEA,OAAOrB,SAAS;AAClB;AAEA,SAASgC,YAAYA,CAAEC,IAAY,EAAEH,KAAY,EAAE3C,UAAqC,EAAE;EACxF,MAAM+C,MAA8B,GAAG,CAAC,CAAC;EACzC,IAAI/C,UAAU,EAAE;IACd,KAAK,MAAMgD,SAAS,IAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAY;MACxD,MAAMC,EAAE,GAAGD,SAAS,KAAK,SAAS,GAAG/D,OAAO,GAAGN,MAAM;MACrD,KAAK,MAAMuE,MAAM,IAAIxE,WAAW,CAACsB,UAAU,CAACgD,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;QAC1DD,MAAM,CAAC,GAAGD,IAAI,IAAIE,SAAS,IAAIE,MAAM,EAAE,CAAC,GAAG7D,QAAQ,CAAC4D,EAAE,CAAC9D,UAAU,CAACwD,KAAK,CAAC,EAAEO,MAAM,CAAC,CAAC;MACpF;IACF;EACF;EACA,OAAOH,MAAM;AACf;AAEA,SAASI,aAAaA,CAAElD,MAAyC,EAAED,UAAqC,EAAE;EACxG,IAAI,CAACA,UAAU,EAAE,OAAO,CAAC,CAAC;EAE1B,IAAIoD,eAAe,GAAG,CAAC,CAAC;EACxB,KAAK,MAAMN,IAAI,IAAI9C,UAAU,CAACC,MAAM,EAAE;IACpC,MAAM0C,KAAK,GAAG1C,MAAM,CAAC6C,IAAI,CAAC;IAE1B,IAAI,CAACH,KAAK,EAAE;IAEZS,eAAe,GAAG;MAChB,GAAGA,eAAe;MAClB,GAAGP,YAAY,CAACC,IAAI,EAAEH,KAAK,EAAE3C,UAAU;IACzC,CAAC;EACH;EACA,OAAOoD,eAAe;AACxB;AAEA,SAASC,WAAWA,CAAEpD,MAAyC,EAAEY,SAA+C,EAAE;EAChH,MAAMyC,QAAQ,GAAG,CAAC,CAAsC;EAExD,KAAK,MAAMX,KAAK,IAAIR,MAAM,CAACoB,IAAI,CAACtD,MAAM,CAAC,EAAE;IACvC,IAAI0C,KAAK,CAACD,UAAU,CAAC,KAAK,CAAC,IAAIzC,MAAM,CAAC,MAAM0C,KAAK,EAAE,CAAC,EAAE;IAEtD,MAAMa,OAAO,GAAG,MAAMb,KAAK,EAAoB;IAC/C,MAAMc,QAAQ,GAAGtE,UAAU,CAACc,MAAM,CAAC0C,KAAK,CAAC,CAAC;IAE1CW,QAAQ,CAACE,OAAO,CAAC,GAAGzE,kBAAkB,CAAC0E,QAAQ,CAAC,GAC5C5C,SAAS,CAAC,eAAe,CAAC,GAC1BA,SAAS,CAAC,gBAAgB,CAAC;EACjC;EAEA,OAAOyC,QAAQ;AACjB;AAEA,SAAS3B,iBAAiBA,CAAEJ,QAAgB,EAAEE,KAAc,EAAE;EAC5D,IAAI,CAACA,KAAK,EAAE,OAAOF,QAAQ;EAE3B,MAAMmC,aAAa,GAAG,UAAUjC,KAAK,GAAG;EAExC,OAAOF,QAAQ,KAAK,OAAO,GAAGmC,aAAa,GAAG,GAAGA,aAAa,IAAInC,QAAQ,EAAE;AAC9E;AAEA,SAASoC,YAAYA,CAAEC,EAAU,EAAEC,QAA4B,EAAEC,MAAc,EAAE;EAC/E,MAAMC,OAAO,GAAGC,uBAAuB,CAACJ,EAAE,EAAEC,QAAQ,CAAC;EAErD,IAAI,CAACE,OAAO,EAAE;EAEdA,OAAO,CAACE,SAAS,GAAGH,MAAM;AAC5B;AAEA,SAASE,uBAAuBA,CAAEJ,EAAU,EAAEC,QAAiB,EAAE;EAC/D,IAAI,CAAC7E,UAAU,EAAE,OAAO,IAAI;EAE5B,IAAIkF,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAACR,EAAE,CAA4B;EAElE,IAAI,CAACM,KAAK,EAAE;IACVA,KAAK,GAAGC,QAAQ,CAACE,aAAa,CAAC,OAAO,CAAC;IACvCH,KAAK,CAACN,EAAE,GAAGA,EAAE;IACbM,KAAK,CAACI,IAAI,GAAG,UAAU;IAEvB,IAAIT,QAAQ,EAAEK,KAAK,CAACK,YAAY,CAAC,OAAO,EAAEV,QAAQ,CAAC;IAEnDM,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,KAAK,CAAC;EAClC;EAEA,OAAOA,KAAK;AACd;;AAEA;AACA,OAAO,SAASQ,WAAWA,CAAExD,OAAsB,EAAmD;EACpG,MAAMyD,aAAa,GAAG1D,iBAAiB,CAACC,OAAO,CAAC;EAChD,MAAM0D,KAAK,GAAGvG,UAAU,CAACsG,aAAa,CAAC7E,YAAY,CAAC;EACpD,MAAMI,MAAM,GAAG9B,GAAG,CAACuG,aAAa,CAACzE,MAAM,CAAC;EACxC,MAAM2E,UAAU,GAAGxG,UAAU,CAAC,OAAO,CAAC;EAEtC,MAAMyE,IAAI,GAAG/E,QAAQ,CAAC;IACpB+G,GAAGA,CAAA,EAAI;MACL,OAAOF,KAAK,CAAC1C,KAAK,KAAK,QAAQ,GAAG2C,UAAU,CAAC3C,KAAK,GAAG0C,KAAK,CAAC1C,KAAK;IAClE,CAAC;IACD6C,GAAGA,CAAEC,GAAW,EAAE;MAChBJ,KAAK,CAAC1C,KAAK,GAAG8C,GAAG;IACnB;EACF,CAAC,CAAC;EAEF,MAAMC,cAAc,GAAGlH,QAAQ,CAAC,MAAM;IACpC,MAAMmH,GAA4C,GAAG,CAAC,CAAC;IACvD,KAAK,MAAM,CAACpC,IAAI,EAAEqC,QAAQ,CAAC,IAAIhD,MAAM,CAACC,OAAO,CAAClC,MAAM,CAACgC,KAAK,CAAC,EAAE;MAC3D,MAAMpC,YAAY,GAAGqF,QAAQ,CAAC/E,IAAI,IAAI0C,IAAI,KAAK,MAAM,GACjD5C,MAAM,CAACgC,KAAK,CAAC9B,IAAI,GACjBF,MAAM,CAACgC,KAAK,CAAC/B,KAAK;MAEtB,MAAMiF,MAAM,GAAGlG,SAAS,CAACY,YAAY,EAAEqF,QAAQ,CAA4B;MAE3E,MAAMlF,MAAM,GAAG;QACb,GAAGmF,MAAM,CAACnF,MAAM;QAChB,GAAGkD,aAAa,CAACiC,MAAM,CAACnF,MAAM,EAAE0E,aAAa,CAAC3E,UAAU;MAC1D,CAAC;MAEDkF,GAAG,CAACpC,IAAI,CAAC,GAAG;QACV,GAAGsC,MAAM;QACTnF,MAAM,EAAE;UACN,GAAGA,MAAM;UACT,GAAGoD,WAAW,CAACpD,MAAM,EAAEmF,MAAM,CAACvE,SAAS;QACzC;MACF,CAAC;IACH;IACA,OAAOqE,GAAG;EACZ,CAAC,CAAC;EAEF,MAAMG,OAAO,GAAG/G,KAAK,CAAC,MAAM2G,cAAc,CAAC/C,KAAK,CAACY,IAAI,CAACZ,KAAK,CAAC,CAAC;EAE7D,MAAMoD,QAAQ,GAAGhH,KAAK,CAAC,MAAMsG,KAAK,CAAC1C,KAAK,KAAK,QAAQ,CAAC;EAEtD,MAAM4B,MAAM,GAAG/F,QAAQ,CAAC,MAAM;IAC5B,MAAMuD,KAAe,GAAG,EAAE;IAC1B,MAAMP,MAAM,GAAG4D,aAAa,CAAC5D,MAAM,GAAG4D,aAAa,CAAC5E,MAAM,GAAG,EAAE;IAE/DuB,KAAK,CAACI,IAAI,CAAC,uBAAuB,CAAC;IAEnC,IAAI2D,OAAO,CAACnD,KAAK,EAAE9B,IAAI,EAAE;MACvBiB,cAAc,CAACC,KAAK,EAAE,OAAO,EAAE,CAAC,oBAAoB,CAAC,EAAEqD,aAAa,CAAClD,KAAK,CAAC;IAC7E;IAEAJ,cAAc,CAACC,KAAK,EAAE,OAAO,EAAEQ,eAAe,CAACuD,OAAO,CAACnD,KAAK,EAAEyC,aAAa,CAAC5E,MAAM,CAAC,EAAE4E,aAAa,CAAClD,KAAK,CAAC;IAEzG,KAAK,MAAM,CAAC8D,SAAS,EAAE5F,KAAK,CAAC,IAAIwC,MAAM,CAACC,OAAO,CAAC6C,cAAc,CAAC/C,KAAK,CAAC,EAAE;MACrEb,cAAc,CAACC,KAAK,EAAE,IAAIqD,aAAa,CAAC5E,MAAM,UAAUwF,SAAS,EAAE,EAAE,CACnE,iBAAiB5F,KAAK,CAACS,IAAI,GAAG,MAAM,GAAG,QAAQ,EAAE,EACjD,GAAG0B,eAAe,CAACnC,KAAK,EAAEgF,aAAa,CAAC5E,MAAM,CAAC,CAChD,EAAE4E,aAAa,CAAClD,KAAK,CAAC;IACzB;IAEAH,KAAK,CAACI,IAAI,CAAC,KAAK,CAAC;IAEjB,IAAIiD,aAAa,CAAC3D,SAAS,EAAE;MAC3B,MAAMwE,OAAiB,GAAG,EAAE;MAC5B,MAAMC,OAAiB,GAAG,EAAE;MAE5B,MAAMxF,MAAM,GAAG,IAAIyF,GAAG,CAACvD,MAAM,CAACwD,MAAM,CAACV,cAAc,CAAC/C,KAAK,CAAC,CAAC0D,OAAO,CAACjG,KAAK,IAAIwC,MAAM,CAACoB,IAAI,CAAC5D,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC;MACvG,KAAK,MAAMgC,GAAG,IAAIhC,MAAM,EAAE;QACxB,IAAIgC,GAAG,CAACS,UAAU,CAAC,KAAK,CAAC,EAAE;UACzBrB,cAAc,CAACoE,OAAO,EAAE,IAAIxD,GAAG,EAAE,EAAE,CAAC,oBAAoB0C,aAAa,CAAC5E,MAAM,SAASkC,GAAG,IAAI,CAAC,EAAE0C,aAAa,CAAClD,KAAK,CAAC;QACrH,CAAC,MAAM;UACLJ,cAAc,CAACmE,OAAO,EAAE,IAAIzE,MAAM,MAAMkB,GAAG,EAAE,EAAE,CAC7C,KAAK0C,aAAa,CAAC5E,MAAM,mCAAmC4E,aAAa,CAAC5E,MAAM,SAASkC,GAAG,sBAAsB,EAClH,+BAA+B0C,aAAa,CAAC5E,MAAM,SAASkC,GAAG,IAAI,EACnE,oBAAoB0C,aAAa,CAAC5E,MAAM,YAAYkC,GAAG,IAAI,CAC5D,EAAE0C,aAAa,CAAClD,KAAK,CAAC;UACvBJ,cAAc,CAACoE,OAAO,EAAE,IAAI1E,MAAM,QAAQkB,GAAG,EAAE,EAAE,CAAC,oBAAoB0C,aAAa,CAAC5E,MAAM,SAASkC,GAAG,IAAI,CAAC,EAAE0C,aAAa,CAAClD,KAAK,CAAC;UACjIJ,cAAc,CAACoE,OAAO,EAAE,IAAI1E,MAAM,UAAUkB,GAAG,EAAE,EAAE,CAAC,KAAK0C,aAAa,CAAC5E,MAAM,uBAAuB4E,aAAa,CAAC5E,MAAM,SAASkC,GAAG,GAAG,CAAC,EAAE0C,aAAa,CAAClD,KAAK,CAAC;QAChK;MACF;MAEAH,KAAK,CAACI,IAAI,CACR,6BAA6B,EAC7B,GAAG8D,OAAO,CAAC5D,GAAG,CAACiE,CAAC,IAAI,KAAKA,CAAC,EAAE,CAAC,EAC7B,KAAK,EACL,6BAA6B,EAC7B,GAAGJ,OAAO,CAAC7D,GAAG,CAACiE,CAAC,IAAI,KAAKA,CAAC,EAAE,CAAC,EAC7B,KACF,CAAC;IACH;IAEA,OAAO,8BAA8B,GAAGvE,KAAK,CAACM,GAAG,CAACiE,CAAC,IAAI,KAAKA,CAAC,EAAE,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK;EACnF,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAGzH,KAAK,CAAC,MAAMqG,aAAa,CAACvD,UAAU,GAAGwB,SAAS,GAAG,GAAG+B,aAAa,CAAC5E,MAAM,UAAU+C,IAAI,CAACZ,KAAK,EAAE,CAAC;EACtH,MAAM8D,UAAU,GAAG1H,KAAK,CAAC,MAAM6D,MAAM,CAACoB,IAAI,CAAC0B,cAAc,CAAC/C,KAAK,CAAC,CAAC;EAEjE,IAAI5C,oBAAoB,EAAE;IACxB,MAAM2G,KAAK,GAAGC,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;IAE/D,SAASC,gBAAgBA,CAAA,EAAI;MAC3BvB,UAAU,CAAC3C,KAAK,GAAG+D,KAAK,CAACI,OAAO,GAAG,MAAM,GAAG,OAAO;IACrD;IAEAD,gBAAgB,CAAC,CAAC;IAElBH,KAAK,CAACK,gBAAgB,CAAC,QAAQ,EAAEF,gBAAgB,EAAE;MAAEG,OAAO,EAAE;IAAK,CAAC,CAAC;IAErE,IAAIvI,eAAe,CAAC,CAAC,EAAE;MACrBE,cAAc,CAAC,MAAM;QACnB+H,KAAK,CAACO,mBAAmB,CAAC,QAAQ,EAAEJ,gBAAgB,CAAC;MACvD,CAAC,CAAC;IACJ;EACF;EAEA,SAASK,OAAOA,CAAEC,GAAQ,EAAE;IAC1B,IAAI/B,aAAa,CAACvD,UAAU,EAAE;IAE9B,MAAMoD,IAAI,GAAGkC,GAAG,CAACC,QAAQ,CAACC,QAAQ,CAACC,OAAsD;IACzF,IAAIrC,IAAI,EAAE;MACR,SAASsC,OAAOA,CAAA,EAAI;QAClB,OAAO;UACL5C,KAAK,EAAE,CAAC;YACN6C,WAAW,EAAEjD,MAAM,CAAC5B,KAAK;YACzB0B,EAAE,EAAEe,aAAa,CAAC7D,YAAY;YAC9BkG,KAAK,EAAErC,aAAa,CAACd,QAAQ,IAAI;UACnC,CAAC;QACH,CAAC;MACH;MAEA,IAAIW,IAAI,CAAC9C,IAAI,EAAE;QACb,MAAMuF,KAAK,GAAGzC,IAAI,CAAC9C,IAAI,CAACoF,OAAO,CAAC;QAChC,IAAI9H,UAAU,EAAE;UACdT,KAAK,CAACuF,MAAM,EAAE,MAAM;YAAEmD,KAAK,CAACC,KAAK,CAACJ,OAAO,CAAC;UAAC,CAAC,CAAC;QAC/C;MACF,CAAC,MAAM;QACL,IAAI9H,UAAU,EAAE;UACdwF,IAAI,CAAC2C,WAAW,CAAC7I,KAAK,CAACwI,OAAO,CAAC,CAAC;UAChCtI,WAAW,CAAC,MAAMgG,IAAI,CAAC4C,SAAS,CAAC,CAAC,CAAC;QACrC,CAAC,MAAM;UACL5C,IAAI,CAAC2C,WAAW,CAACL,OAAO,CAAC,CAAC,CAAC;QAC7B;MACF;IACF,CAAC,MAAM;MACL,IAAI9H,UAAU,EAAE;QACdT,KAAK,CAACuF,MAAM,EAAEuD,YAAY,EAAE;UAAEC,SAAS,EAAE;QAAK,CAAC,CAAC;MAClD,CAAC,MAAM;QACLD,YAAY,CAAC,CAAC;MAChB;MAEA,SAASA,YAAYA,CAAA,EAAI;QACvB1D,YAAY,CAACgB,aAAa,CAAC7D,YAAY,EAAE6D,aAAa,CAACd,QAAQ,EAAEC,MAAM,CAAC5B,KAAK,CAAC;MAChF;IACF;EACF;EAEA,SAASqF,MAAMA,CAAEhC,SAAiB,EAAE;IAClC,IAAIA,SAAS,KAAK,QAAQ,IAAI,CAACS,UAAU,CAAC9D,KAAK,CAACsF,QAAQ,CAACjC,SAAS,CAAC,EAAE;MACnE9G,WAAW,CAAC,UAAU8G,SAAS,2CAA2C,CAAC;MAC3E;IACF;IAEAzC,IAAI,CAACZ,KAAK,GAAGqD,SAAS;EACxB;EAEA,SAASkC,KAAKA,CAAEC,UAAoB,GAAG1B,UAAU,CAAC9D,KAAK,EAAE;IACvD,MAAMyF,YAAY,GAAGD,UAAU,CAACE,OAAO,CAAC9E,IAAI,CAACZ,KAAK,CAAC;IACnD,MAAM2F,SAAS,GAAGF,YAAY,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAACA,YAAY,GAAG,CAAC,IAAID,UAAU,CAACI,MAAM;IAElFP,MAAM,CAACG,UAAU,CAACG,SAAS,CAAC,CAAC;EAC/B;EAEA,SAASE,MAAMA,CAAEL,UAA4B,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE;IACjED,KAAK,CAACC,UAAU,CAAC;EACnB;EAEA,MAAMM,UAAU,GAAG,IAAIC,KAAK,CAACnF,IAAI,EAAE;IACjCgC,GAAGA,CAAEoD,MAAM,EAAEC,IAAI,EAAE;MACjB,OAAOC,OAAO,CAACtD,GAAG,CAACoD,MAAM,EAAEC,IAAI,CAAC;IAClC,CAAC;IACDpD,GAAGA,CAAEmD,MAAM,EAAEC,IAAI,EAAEnD,GAAG,EAAE;MACtB,IAAImD,IAAI,KAAK,OAAO,EAAE;QACpBvJ,SAAS,CAAC,6BAA6BoG,GAAG,EAAE,EAAE,iBAAiBA,GAAG,IAAI,CAAC;MACzE;MACA,OAAOoD,OAAO,CAACrD,GAAG,CAACmD,MAAM,EAAEC,IAAI,EAAEnD,GAAG,CAAC;IACvC;EACF,CAAC,CAAC;EAEF,OAAO;IACLyB,OAAO;IACPc,MAAM;IACNE,KAAK;IACLM,MAAM;IACN3G,UAAU,EAAEuD,aAAa,CAACvD,UAAU;IACpCkE,QAAQ;IACRxC,IAAI;IACJ5C,MAAM;IACNmF,OAAO;IACPJ,cAAc;IACdlF,MAAM,EAAE4E,aAAa,CAAC5E,MAAM;IAC5BgG,YAAY;IACZjC,MAAM;IACNuE,MAAM,EAAE;MACNvF,IAAI,EAAEkF,UAAU;MAChB3C;IACF;EACF,CAAC;AACH;AAEA,OAAO,SAASiD,YAAYA,CAAEC,KAAyB,EAAE;EACvD1J,kBAAkB,CAAC,cAAc,CAAC;EAElC,MAAMc,KAAK,GAAG1B,MAAM,CAACsB,WAAW,EAAE,IAAI,CAAC;EAEvC,IAAI,CAACI,KAAK,EAAE,MAAM,IAAI6I,KAAK,CAAC,wCAAwC,CAAC;EAErE,MAAM1F,IAAI,GAAGxE,KAAK,CAAC,MAAMiK,KAAK,CAAC5I,KAAK,IAAIA,KAAK,CAACmD,IAAI,CAACZ,KAAK,CAAC;EACzD,MAAMmD,OAAO,GAAG/G,KAAK,CAAC,MAAMqB,KAAK,CAACO,MAAM,CAACgC,KAAK,CAACY,IAAI,CAACZ,KAAK,CAAC,CAAC;EAE3D,MAAM6D,YAAY,GAAGzH,KAAK,CAAC,MAAMqB,KAAK,CAACyB,UAAU,GAAGwB,SAAS,GAAG,GAAGjD,KAAK,CAACI,MAAM,UAAU+C,IAAI,CAACZ,KAAK,EAAE,CAAC;EAEtG,MAAMuG,QAAuB,GAAG;IAC9B,GAAG9I,KAAK;IACRmD,IAAI;IACJuC,OAAO;IACPU;EACF,CAAC;EAED5H,OAAO,CAACoB,WAAW,EAAEkJ,QAAQ,CAAC;EAE9B,OAAOA,QAAQ;AACjB;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAI;EAC1B7J,kBAAkB,CAAC,UAAU,CAAC;EAE9B,MAAMc,KAAK,GAAG1B,MAAM,CAACsB,WAAW,EAAE,IAAI,CAAC;EAEvC,IAAI,CAACI,KAAK,EAAE,MAAM,IAAI6I,KAAK,CAAC,wCAAwC,CAAC;EAErE,OAAO7I,KAAK;AACd","ignoreList":[]}